<!DOCTYPE html>
<html>
<head>
<style>html, .tile-body {
  background: #0e0e11;
  width: 250px;
  height: 250px;
  margin: 0;
  padding: 0;
  font-family: monospace;
  overflow: hidden;
}

canvas {
  display: block;
}

.sig {
  color: #ffffff73;
  pointer-events: none;
  font-size: 12px;
  position: absolute;
  bottom: 6px;
  right: 8px;
}

.pointera {
  color: #ffffff26;
  font-size: 3px;
  position: absolute;
  top: 6px;
  left: 8px;
}
</style>
</head>
<body>
<canvas id="c" width="250" height="250"></canvas>
<div class="sig">mia :3</div>
<script type="text/tilescript">
var canvas = document.getElementById("c");
var ctx = canvas.getContext("2d");

var w = canvas.width;
var h = canvas.height;

// ---------- helpers ----------
function hashNumber(n) {
  n = Math.sin(n) * 10000;
  return n - Math.floor(n);
}

// ---------- stars ----------
var starCount = 28;
var stars = [];

for (var i = 0; i < starCount; i++) {
  stars.push({
    x: Math.random() * w,
    y: Math.random() * h,
    r: Math.random() * 1.2 + 0.3,
    base: Math.random() * 0.4 + 0.2,
    phase: Math.random() * Math.PI * 2,
    speed: Math.random() * 0.005 + 0.002
  });
}

// ---------- constellation ----------
var dotCount = 12;
var dots = [];
var seedSum = 0;

for (var j = 0; j < dotCount; j++) {
  var x = Math.random() * w;
  var y = Math.random() * h;

  dots.push({
    x: x,
    y: y,
    vx: (Math.random() - 0.5) * 0.2,
    vy: (Math.random() - 0.5) * 0.2
  });

  seedSum += x * 0.7 + y * 1.3;
}

// ---------- name generation ----------
var cores = [
  "mia", "nyx", "lune", "astra", "vire", "echo",
  "sera", "noct", "halo", "umbra", "aeri",
  "kyth", "elara", "io", "thys", "cera",
  "veil", "nema", "lyra", "orin", "feli", "ruby",
    "fate", "izra"
];
var epithets = [
  "veil", "thread", "hush", "reach", "drift", "bloom",
  "wake", "fall", "glow", "trace", "fold", "breath",
  "echo", "tide", "pulse", "still",
  "crossing", "holding", "return", "destiny", "silence", 
    "pity", "cycle"
]

var h1 = Math.floor(hashNumber(seedSum) * cores.length);
var h2 = Math.floor(hashNumber(seedSum * 2.17) * epithets.length);

var constellationName = cores[h1] + " " + epithets[h2];

// ---------- draw ----------
function step() {
  ctx.clearRect(0, 0, w, h);

  // stars
  for (var i = 0; i < stars.length; i++) {
    var s = stars[i];
    s.phase += s.speed;
    var a = s.base + Math.sin(s.phase) * 0.15;

    ctx.fillStyle = "rgba(255,255,255," + a + ")";
    ctx.beginPath();
    ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
    ctx.fill();
  }

  // connections
  for (var a = 0; a < dots.length; a++) {
    for (var b = a + 1; b < dots.length; b++) {
      var dx = dots[a].x - dots[b].x;
      var dy = dots[a].y - dots[b].y;
      var d = Math.sqrt(dx * dx + dy * dy);

      if (d < 80) {
        ctx.strokeStyle = "rgba(200,220,255," + (1 - d / 80) + ")";
        ctx.lineWidth = 0.5;
        ctx.beginPath();
        ctx.moveTo(dots[a].x, dots[a].y);
        ctx.lineTo(dots[b].x, dots[b].y);
        ctx.stroke();
      }
    }
  }

  // dots
  for (var k = 0; k < dots.length; k++) {
    var p = dots[k];
    ctx.fillStyle = "rgba(220,235,255,0.9)";
    ctx.beginPath();
    ctx.arc(p.x, p.y, 1.5, 0, Math.PI * 2);
    ctx.fill();

    p.x += p.vx;
    p.y += p.vy;

    if (p.x < 0) p.x += w;
    if (p.x > w) p.x -= w;
    if (p.y < 0) p.y += h;
    if (p.y > h) p.y -= h;
  }

  // name
  ctx.fillStyle = "rgba(255,255,255,0.5)";
  ctx.font = "12px monospace";
  ctx.textAlign = "left";
  ctx.fillText(constellationName, 8, 16);

  requestAnimationFrame(step);
}

step();
</script>
</body>
</html>