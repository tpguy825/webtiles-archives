<!DOCTYPE html>
<html lang="en">
<head>
    
    
    <style>.sitebox {
  z-index: 0;
  background-color: #ffe4e1;
  width: 250px;
  height: 250px;
  display: block;
  position: absolute;
}

.sitebox button {
  z-index: 10;
  opacity: 1;
}

#hide-when-button-clicked img {
  z-index: 2;
  width: 100%;
  height: 100%;
  position: absolute;
  left: 0;
}

#hide-when-button-clicked button {
  z-index: 3;
  position: absolute;
  top: 200px;
}

.hidden {
  display: none;
}

.sitebox.playing:before {
  opacity: 0;
}

.sitebox.playing #karaoke-lyrics-box {
  z-index: 1;
}

#karaoke-audio {
  z-index: 10;
  width: 100%;
  height: 20px;
  position: absolute;
  bottom: 0;
  left: 0;
}

#karaoke-lyrics-box {
  z-index: 1;
  box-sizing: border-box;
  width: 250px;
  height: 250px;
  position: relative;
  overflow: hidden;
}

#karaoke-lyrics-box #line-slot-1, #karaoke-lyrics-box #line-slot-2 {
  box-sizing: border-box;
  width: 250px;
  height: 50px;
  position: absolute;
}

#karaoke-lyrics-box #line-slot-1 {
  top: 110px;
}

#karaoke-lyrics-box #line-slot-2 {
  top: 150px;
}

.karaoke-lyric-line, .karaoke-lyric-overlay {
  white-space: pre;
  font-size: 10px;
  display: inline-block;
  position: absolute;
  letter-spacing: 0 !important;
  word-spacing: 0 !important;
  padding: 0 !important;
  font-family: monospace !important;
}

.karaoke-lyric-overlay {
  color: #ff1493;
}

.word {
  display: inline-block;
  position: relative;
  top: 10px;
}

.karaoke-lyric-overlay .word {
  color: #ff1493;
  white-space: nowrap;
  width: 0;
  display: inline-block;
  overflow: hidden;
}

.ruby {
  font-size: 6px;
  position: absolute;
  bottom: 14px;
  left: 50%;
  transform: translateX(-50%);
}

@-moz-document url-prefix() {
  .ruby {
    margin-bottom: 0;
  }
}

.karaoke-lyric-overlay .ruby {
  display: none;
}
</style>
</head>
<body>
<div class="sitebox">
    <div id="hide-when-button-clicked">
        <img src="bg.jpg">
        <button id="start-karaoke-button" style="left: 90px;">カラオケ</button>
        <button id="dont-karaoke-button" style="left: 140px; display: none;">いいえ</button>

    </div>
    <div id="karaoke-lyrics-box">
        <div id="line-slot-1"></div>
        <div id="line-slot-2"></div>
    </div>
    <audio id="karaoke-audio" src="song.mp3" controls preload="metadata"></audio>
    <div id="lyrics-data" style="display: none">
        [00:00:23]chu [00:00:37]chu [00:00:62]yeah！[00:01:04] [00:03:68]please [00:04:12]me！[00:05:18]
        [00:07:25]chu [00:07:46]chu [00:07:69]yeah！[00:08:30] [00:10:81]without [00:11:23]you[00:12:13]
        [00:13:04]
        [00:16:57]あー！[00:17:02]な[00:17:12]ん[00:17:23]て[00:17:36]こ[00:17:61]と[00:17:71]だ　[00:18:18]些[00:18:27]細[00:18:59]な[00:18:82]過[00:19:37]ち[00:19:60]だ[00:19:91]
        [00:20:14]自[00:20:56]分[00:20:83]の[00:20:93]こ[00:21:16]と[00:21:28]に[00:21:70]タ[00:21:81]ラ[00:21:92]ラ[00:22:13]ッ[00:22:22]タ[00:22:31]ラ[00:22:48]ッ[00:22:61]タ[00:22:72]手[00:22:94]焼[00:23:07]く[00:23:16]
        [00:23:70]ど[00:23:90]う[00:24:10]し[00:24:28]て[00:24:37]突[00:24:68]然？[00:25:22]逃[00:25:32]げ[00:25:44]切[00:25:52]っ[00:25:63]た[00:25:87]っ[00:25:97]て[00:26:22]い[00:26:32]い[00:26:50]で[00:26:72]しょ？[00:27:04]
        [00:27:25]だ[00:27:68]け[00:27:80]ど[00:27:90]な[00:28:00]ん[00:28:24]だ[00:28:34]か[00:28:78]気[00:28:88]ま[00:28:99]ぐ[00:29:22]れ[00:29:33]モー[00:29:56]ド[00:29:78]に[00:30:00]な[00:30:11]り[00:30:36]
        [00:30:57]そ[00:30:66]ん[00:30:78]な[00:31:01]気[00:31:12]分[00:31:55]に[00:31:91]な[00:32:01]っ[00:32:14]ちゃ[00:32:25]っ[00:32:39]て[00:32:43]
        [00:32:78]
        [00:32:86]始[00:33:09]ま[00:33:34]り[00:33:68]は[00:33:92]そ[00:34:15]ん[00:34:36]な[00:34:58]風[00:35:05]で[00:36:11]
        [00:36:31]つ[00:36:63]ま[00:36:74]り[00:36:96]は[00:37:23]ら[00:37:44]し[00:37:67]く[00:37:93]な[00:38:12]い[00:38:23]よ[00:38:48]う[00:38:59]で[00:39:63]
        [00:39:89]で[00:40:11]も[00:40:23]今[00:40:79]じゃ[00:41:03]扉[00:41:83]開[00:42:13]け[00:42:55]て[00:42:81]ほ[00:43:03]ら[00:43:26]
        [00:43:50]声[00:43:70]が[00:43:91]聴[00:44:01]こ[00:44:13]え[00:44:37]る[00:44:61]よ　[00:44:81]さ[00:45:03]あ！[00:46:33]行[00:46:55]こ[00:46:78]う！[00:48:13]
        [00:48:30]
        [00:48:56]ど[00:48:77]こ[00:48:88]へ[00:49:12]で[00:49:23]も[00:49:97]
        [00:50:05]
        [00:50:27]僕[00:51:00]は[00:51:25]君[00:51:90]の[00:52:13]翼[00:53:02]に　[00:53:68]な[00:53:79]れ[00:53:90]る[00:54:18]勇[00:54:52]気[00:54:76]が[00:55:12]あ[00:55:42]る[00:55:70]よ！[00:55:88]
        [00:56:20](please [00:56:64]stay [00:57:08]with [00:57:53]me)[00:58:31]
        [00:57:28]ど[00:57:37]ん[00:57:50]な[00:57:82]試[00:58:33]練[00:58:70]も[00:59:00]怖[00:59:56]く[00:59:89]な[01:00:13]い　[01:00:76]そ[01:00:86]の[01:01:03]魔[01:01:32]法[01:01:65]が[01:01:90]あ[01:02:23]る[01:02:56]か[01:02:77]ら[01:03:02]
        [01:03:07](なんてったってコングラッチュレーション！)[01:04:46]
        [01:04:33]初[01:04:90]め[01:05:23]て[01:05:46]出[01:05:79]会[01:06:14]う[01:06:36]世[01:07:03]界[01:07:26]に　[01:07:89]花[01:08:11]束[01:08:78]を[01:09:01]贈[01:09:64]ろ[01:09:88]う[01:10:03]
        [01:10:30](made [01:10:91]in [01:11:33]so[01:11:79]ci[01:12:67]e[01:13:58]ty)[01:14:45]
        [01:11:42]た[01:11:52]だ[01:11:94]こ[01:12:05]の[01:12:32]瞬[01:12:79]間[01:13:22]結[01:13:66]ば[01:13:77]れ[01:14:11]る[01:14:34]よ[01:15:02]
        [01:15:23]ち[01:15:47]ぐ[01:15:70]は[01:15:80]ぐ[01:15:91]な[01:16:03]コ[01:16:26]ミュ[01:16:38]ニ[01:16:58]ケー[01:16:81]ショ[01:16:91]ン？[01:16:94]
        [01:17:05]で[01:17:26]も[01:17:47]別[01:17:68]に[01:17:81]構[01:18:15]わ[01:18:36]な[01:18:58]い[01:18:68]
        [01:18:84]明日[01:19:38]か[01:19:49]ら[01:19:62]平[01:20:15]和[01:20:37]な[01:20:58]ら！[01:21:76]
        [01:21:98]
        [01:23:71]chu [01:23:93]chu [01:24:18]yeah！[01:25:11] [01:27:24]without [01:27:70]you！[01:29:43]
        [01:29:79]
        [01:31:25]あー！[01:31:68]ど[01:31:81]う[01:31:92]し[01:32:04]て[01:32:28]ま[01:32:37]た[01:32:80]素[01:32:91]直[01:33:26]に[01:33:48]な[01:33:58]れ[01:33:81]な[01:34:04]く[01:34:27]て[01:34:57]
        [01:34:81]自[01:35:29]分[01:35:50]の[01:35:60]こ[01:35:83]と[01:35:96]で[01:36:36]チュ[01:36:47]ル[01:36:57]ル[01:36:67]ッ[01:36:81]チュ[01:36:95]ル[01:37:15]ッ[01:37:37]チュ[01:37:49]火[01:37:63]吹[01:37:73]く[01:38:07]
        [01:38:33]
        [01:38:47]ギ[01:38:74]ア[01:38:84]は[01:38:97]そ[01:39:07]の[01:39:33]ま[01:39:43]ま　[01:39:88]ス[01:40:01]ピー[01:40:36]ド[01:40:60]上[01:40:70]げ[01:40:93]て[01:41:16]い[01:41:38]こ[01:41:48]う[01:41:70]
        [01:41:92]だ[01:42:36]け[01:42:48]ど[01:42:61]な[01:42:71]ん[01:42:94]だ[01:43:06]か[01:43:46]黄[01:43:66]昏[01:44:01]モー[01:44:25]ド[01:44:46]に[01:44:72]な[01:44:82]り[01:45:02]
        [01:45:27]い[01:45:38]つ[01:45:48]か[01:45:70]を[01:45:79]思[01:46:26]い[01:46:61]出[01:46:71]し[01:46:81]ちゃ[01:46:90]っ[01:47:03]て[01:47:22]
        [01:47:38]
        [01:47:52]一[01:47:79]人[01:48:05]で[01:48:36]い[01:48:59]て[01:48:81]も[01:49:01]嫌[01:49:26]じゃ[01:49:40]な[01:49:69]い　[01:51:02]誰[01:51:37]に[01:51:59]も[01:51:89]頼[01:52:33]ら[01:52:58]な[01:52:80]く[01:52:89]て[01:53:14]も[01:53:25]い[01:53:32]い[01:53:90]
        [01:54:55]で[01:54:79]も[01:54:90]扉[01:55:67]の[01:55:91]向[01:56:14]こ[01:56:47]う[01:56:48]騒[01:57:20]が[01:57:47]し[01:57:71]い　[01:58:15]声[01:58:37]が[01:58:58]聞[01:58:71]き[01:58:80]た[01:59:04]い[01:59:23]よ[01:59:41]
        [01:59:45]今！[02:01:03]行[02:01:25]こ[02:01:46]う！[02:02:73]
        [02:02:81]
        [02:03:25]ど[02:03:46]こ[02:03:56]へ[02:03:82]で[02:03:92]も[02:04:44]
        [02:04:62]
        [02:04:94]僕[02:05:67]は[02:05:90]君[02:06:54]を[02:06:79]背[02:07:10]中[02:07:69]に　[02:08:34]乗[02:08:46]せ[02:08:58]て[02:08:88]空[02:09:47]を[02:09:76]舞[02:10:09]う[02:10:38]よ！[02:11:66]
        [02:10:81](please [02:11:29]fly [02:11:50]with [02:11:76]me)[02:11:84]
        [02:11:93]い[02:12:12]つ[02:12:18]か[02:12:48]心[02:13:35]が[02:13:67]離[02:14:22]れ[02:14:56]て[02:14:80]も　[02:15:45]そ[02:15:56]の[02:15:70]時[02:16:32]は[02:16:56]笑[02:17:21]っ[02:17:38]て[02:17:45]て[02:17:69]
        [02:17:80](なんてったってコングラッチュレーション)[02:19:17]
        [02:19:02]守[02:19:54]り[02:19:87]た[02:20:13]い[02:20:48]こ[02:20:78]の[02:21:03]世[02:21:68]界[02:21:92]に　[02:22:58]青[02:22:79]空[02:23:45]の[02:23:67]ラ[02:23:99]プ[02:24:33]ソ[02:24:64]ディ[02:25:93]
        [02:25:15](make [02:25:54]me [02:26:35]rhap[02:27:34]so[02:28:24]dic！)[02:29:14]
        [02:26:09]た[02:26:20]だ[02:26:35]い[02:26:65]つ[02:26:97]ま[02:27:22]で[02:27:60]も[02:27:91]奏[02:28:36]で[02:28:49]て[02:28:70]い[02:28:80]て[02:29:02]よ[02:29:64]
        [02:29:90]凸[02:30:36]凹[02:30:57]な[02:30:70]コ[02:30:90]ン[02:31:00]ビ[02:31:24]ネー[02:31:46]ショ[02:31:58]ン？[02:31:68]
        [02:31:75]で[02:31:93]も[02:32:15]別[02:32:35]に[02:32:48]大[02:32:77]丈[02:33:02]夫[02:33:24]さ[02:33:36]
        [02:33:48]明[02:33:69]日[02:33:93]は[02:34:03]ま[02:34:16]た[02:34:28]平[02:34:83]和[02:35:01]だ！[02:35:09]
        [02:35:14]
        [02:35:26]ほ[02:35:51]ん[02:35:61]の[02:35:90]小[02:36:61]さ[02:36:82]な[02:37:05]傷[02:37:37]を　[02:38:83]太[02:39:12]陽[02:39:87]に[02:40:09]さ[02:40:29]ら[02:40:56]し[02:40:91]て[02:42:05]
        [02:42:35]分[02:42:66]け[02:43:02]合[02:43:42]っ[02:43:69]た[02:43:91]よ[02:44:15]君[02:44:84]と　[02:45:69]痛[02:45:94]み[02:46:23]は[02:46:58]熱[02:47:25]さ[02:47:46]の[02:47:71]中[02:48:40]に[02:48:78]溶[02:49:02]け[02:49:25]て[02:49:49]く！[02:51:06]
        [02:51:29]
        [02:52:55]chu [02:52:80]chu [02:53:08]yeah！[02:53:48] [02:54:85]粋[02:55:18]な[02:55:31]ビー[02:55:69]ト[02:55:97]弾[02:56:21]く[02:56:39]僕[02:57:02]ら！[02:57:10]
        [02:56:15]please [02:56:55]me！[02:57:27] [02:58:63]手[02:58:85]を[02:59:06]叩[02:59:63]い[02:59:76]て[03:00:06]
        [02:59:75]chu [02:59:89]chu [03:00:13]yeah！[03:00:59] [03:01:98]ブ[03:02:08]ギー[03:02:31]な[03:02:41]リ[03:02:52]ズ[03:02:74]ム[03:02:79]で[03:02:86]は[03:03:10]しゃ[03:03:36]ぐ[03:03:54]二人！[03:04:40]
        [03:03:26]without [03:03:67]you！[03:04:11] [03:05:73]飛[03:05:97]び[03:06:19]跳[03:06:42]ね[03:06:74]て[03:07:06]さ[03:07:56]
        [03:06:83]chu [03:07:00]chu [03:07:26]yeah！[03:07:87] [03:09:01]粋[03:09:42]な[03:09:52]ビー[03:09:84]ト[03:09:96]弾[03:10:19]く[03:10:45]僕[03:10:88]ら！[03:11:22]
        [03:10:37]please [03:10:76]me！[03:11:43] [03:12:85]手[03:13:07]を[03:13:27]叩[03:13:85]い[03:14:13]て[03:14:45]
        [03:14:04]chu [03:14:21]chu [03:14:38]yeah！[03:14:98] [03:16:12]ブ[03:16:21]ギー[03:16:44]な[03:16:53]リ[03:16:73]ズ[03:16:87]ム[03:16:99]で[03:17:13]は[03:17:23]しゃ[03:17:44]ぐ[03:17:65]ア[03:17:87]リー[03:18:54]ナ！[03:19:62]
        [03:20:12]███████████████[03:37:00]
        [03:39:25]ど[03:39:48]こ[03:39:59]ま[03:39:81]で[03:39:91]も！[03:40:62]
        [03:40:80]
        [03:41:00]僕[03:41:68]は[03:41:90]君[03:42:55]の[03:42:79]翼[03:43:67]に　[03:44:38]な[03:44:48]れ[03:44:58]る[03:44:88]勇[03:45:33]気[03:45:48]が[03:45:79]あ[03:46:12]る[03:46:35]よ！[03:46:55]
        [03:46:87](please [03:47:31]stay [03:47:63]with [03:48:18]me)[03:48:89]
        [03:47:94]ど[03:48:10]ん[03:48:30]な[03:48:45]試[03:48:98]練[03:49:37]も[03:49:70]怖[03:50:25]く[03:50:56]な[03:50:81]い　[03:51:45]そ[03:51:55]の[03:51:68]魔[03:51:98]法[03:52:30]が[03:52:55]あ[03:52:87]る[03:53:23]か[03:53:45]ら[03:55:00]
        [03:53:67](なんてったってコングラッチュレーション)[03:55:00]
        [03:55:23]君[03:55:88]と[03:56:12]出[03:56:47]会[03:56:78]い[03:57:01]世[03:57:65]界[03:57:90]は　[03:58:57]花[03:58:78]束[03:59:41]に[03:59:66]溢[04:00:32]れ[04:00:58]た[04:00:88]
        [04:01:12](made [04:01:55]in [04:01:97]so[04:02:42]ci[04:03:35]e[04:04:20]ty)[04:05:11]
        [04:02:15]た[04:02:31]だ[04:02:40]そ[04:02:63]の[04:02:96]瞬[04:03:46]間[04:03:88]結[04:04:29]ば[04:04:41]れ[04:04:73]た[04:05:03]よ[04:05:48]
        [04:05:87]ち[04:06:08]ぐ[04:06:32]は[04:06:43]ぐ[04:06:53]な[04:06:62]コ[04:06:86]ミュ[04:07:01]ニ[04:07:22]ケー[04:07:45]ショ[04:07:54]ン？[04:07:58]
        [04:07:68]で[04:07:90]も[04:08:11]別[04:08:32]に[04:08:40]構[04:08:77]わ[04:08:99]な[04:09:22]い[04:09:32]
        [04:09:46]明[04:09:88]日[04:10:09]が[04:10:20]平[04:10:74]和[04:10:95]な[04:11:19]ら[04:11:49]
        [04:11:67]
        [04:14:31]chu [04:14:51]chu [04:14:76]yeah！[04:15:94] [04:17:86]please [04:18:32]me！[04:19:21]
        [04:21:45]息[04:21:87]を[04:23:47]切[04:23:58]ら[04:23:68]し[04:24:69]
        [04:24:99]without [04:25:88]you！[04:29:35]

        @Ruby1=些,さ
        @Ruby2=細,さい
        @Ruby3=過,あやま
        @Ruby4=自,じ
        @Ruby5=分,ぶん,,[02:42:35],[00:20:56],[00:31:12],[01:35:29]
        @Ruby6=手,て
        @Ruby7=焼,や
        @Ruby8=突,とつ
        @Ruby9=然,ぜん
        @Ruby10=逃,に
        @Ruby11=切,き
        @Ruby12=気,き
        @Ruby13=始,はじ
        @Ruby14=風,ふう
        @Ruby15=今,いま
        @Ruby16=扉,とびら
        @Ruby17=開,あけ
        @Ruby18=声,こえ
        @Ruby19=聴,き
        @Ruby20=行,ゆ
        @Ruby21=僕,ぼく
        @Ruby22=君,きみ
        @Ruby23=翼,つばさ
        @Ruby24=勇,ゆう
        @Ruby25=試,し
        @Ruby26=練,れん
        @Ruby27=怖,こわ
        @Ruby28=魔,ま
        @Ruby29=法,ほう
        @Ruby30=初,はじ
        @Ruby31=出,で,,[01:46:61]
        @Ruby32=会,あ
        @Ruby33=世,せ
        @Ruby34=界,かい
        @Ruby35=花,はな
        @Ruby36=束,たば
        @Ruby37=贈,おく
        @Ruby38=瞬,しゅん
        @Ruby39=間,かん
        @Ruby40=結,むす
        @Ruby41=別,べつ
        @Ruby42=構,かま
        @Ruby43=明日,あした
        @Ruby44=平,へい
        @Ruby45=和,わ
        @Ruby46=素,す
        @Ruby47=直,なお
        @Ruby48=火,ひ
        @Ruby49=吹,ふ
        @Ruby50=上,あ
        @Ruby51=黄,たそ
        @Ruby52=昏,がれ
        @Ruby53=思,おも
        @Ruby54=出,だ,[01:46:61],[03:56:12]
        @Ruby55=一人,ひとり
        @Ruby56=嫌,いや
        @Ruby57=誰,だれ
        @Ruby58=頼,たよ
        @Ruby59=向,む
        @Ruby60=騒,さわ
        @Ruby61=聞,き
        @Ruby62=背,せ
        @Ruby63=中,なか
        @Ruby64=乗,の
        @Ruby65=空,そら,,[02:22:79],[02:08:88]
        @Ruby66=舞,ま
        @Ruby67=心,こころ
        @Ruby68=離,はな
        @Ruby69=時,とき
        @Ruby70=笑,わら
        @Ruby71=守,まも
        @Ruby72=青,あお
        @Ruby73=空,ぞら,[02:22:79]
        @Ruby74=奏,かな
        @Ruby75=凸,でこ
        @Ruby76=凹,ぼこ
        @Ruby77=大,だい
        @Ruby78=丈,じょう
        @Ruby79=夫,ぶ
        @Ruby80=小,ちい
        @Ruby81=傷,きず
        @Ruby82=太,たい
        @Ruby83=陽,よう
        @Ruby84=分,わ,[02:42:35]
        @Ruby85=合,あ
        @Ruby86=痛,いた
        @Ruby87=熱,あつ
        @Ruby88=溶,と
        @Ruby89=粋,いき
        @Ruby90=弾,はじ
        @Ruby91=叩,たた
        @Ruby92=二人,ふたり
        @Ruby93=飛,と
        @Ruby94=跳,は
        @Ruby95=出,で,[03:56:12]
        @Ruby96=溢,あふ
        @Ruby97=息,いき
    </div>
    <script type="text/tilescript">var bracketTimeToSeconds=function(b){if(!b)return 0;var c=b.substring(1,b.length-1);var a=c.split(':');return+a[0]*60+ +a[1]+(+a[2]||0)/100;};var getRubyMapFromLyrics=function(h){var a={};for(var d=0;d<h.length;d++){var e=h[d].trim();if(e.indexOf('@Ruby')!==0)continue;var b=e.slice(e.indexOf('=')+1).split(',');var f=b[0];var i=b[1];var g=[];for(var c=2;c<b.length;c++)b[c].trim()&&g.push(bracketTimeToSeconds(b[c]));a[f]||(a[f]=[]),a[f].push({ruby:i,times:g});}return console.log(a),a;};var getLinesWithDataFromLyricsWithoutRegex=function(z){var g=z.split('\n');var t=getRubyMapFromLyrics(g);var p=[];for(var h=0;h<g.length;h++){var a=g[h];if(a=a.trim(),!a)continue;if(document.getElementById('hide-when-button-clicked').textContent='ロード中 '+h+'/'+g.length,a.indexOf('[')!==0||a.indexOf(']')===-1)continue;var b=[];var k=0;while(k<a.length){var l=a.indexOf('[',k);if(l===-1)break;var i=a.indexOf(']',l);if(i===-1)break;var d=a.indexOf('[',i);if(d===-1)break;var q=a.indexOf(']',d);if(q===-1)break;var u=a.substring(l,i+1);var r=a.substring(i+1,d);var v=a.substring(d,q+1);var s=bracketTimeToSeconds(u);var w=bracketTimeToSeconds(v);var e=r;var x='!?\uFF01\uFF1F.,\u2026 \t\n\r';var j=e.length-1;while(j>=0&&x.indexOf(e.charAt(j))!==-1)j--;e=e.substring(0,j+1);var m=null;var c=t[e];if(c){var n=c.length;if(n===1&&(m=c[0].ruby),n>1)for(var f=0;f<n;f++){var y=c[f].times.length;for(var o=0;o<y;o++)if(Math.abs(s-c[f].times[o])<0.1){m=c[f].ruby;break;}}}b.push({startTime:s,text:r,endTime:w,ruby:m}),k=d;}b.length>0&&p.push({lineStartTime:b[0].startTime,lineEndTime:b[b.length-1].endTime,words:b});}return p;};var populateKaraokeLine=function(g,h){var i=g.words;var d=makeCustomElement('span','karaoke-lyric-line',null);var e=makeCustomElement('span','karaoke-lyric-overlay',null);for(var c=0;c<i.length;c++){var a=g.words[c];var b=makeCustomElement('span','word',a.text);if(a.ruby){var j=makeCustomElement('span','ruby',a.ruby);b.appendChild(j);}var f=b.cloneNode(!0);a.baseElement=b,a.overlayElement=f,a.lastPct=-1,d.appendChild(b),e.appendChild(f);}h.appendChild(d),h.appendChild(e);};var makeCustomElement=function(d,b,c){var a=document.createElement(d);return b&&(a.className=b),c&&(a.textContent=c),a;};var updateHighlight=function(h,d){if(!h.lyricLine)return;var e=h.lyricLine.words;for(var c=0;c<e.length;c++){var a=e[c];var b=0;if(d>=a.endTime?b=100:d>a.startTime&&(b=(d-a.startTime)/(a.endTime-a.startTime)*100),a.lastPct!==b&&a.overlayElement&&a.baseElement){var i=a.baseElement.getBoundingClientRect();var f=i.width;var g=a.baseElement.offsetWidth;var j=g>0?f/g:1;var k=f*(b/100)/j;a.overlayElement.style.width=k+'px',a.lastPct=b;}}};var displayKaraokeLines=function(){var i=0.5;var k=0.5;var b=karaokeState.lineSlot1;var c=karaokeState.lineSlot2;var d=karaokeState.lyricLines;var e=karaokeState.audio.currentTime;updateHighlight(karaokeState.lineSlot1,karaokeState.audio.currentTime),updateHighlight(karaokeState.lineSlot2,karaokeState.audio.currentTime);var j=d.length;for(var g=0;g<d.length;g++)if(e<d[g].lineEndTime){j=g,karaokeState.currentLineIndex=j;break;}[b,c].forEach(function(a){a.lyricLine&&(e>a.lyricLine.lineEndTime+k||e<a.lyricLine.lineStartTime-i)&&(a.container.textContent='',a.lyricLine=null);});var a=null;for(var h=karaokeState.currentLineIndex;h<d.length;h++){var f=d[h];if(e>f.lineEndTime){karaokeState.currentLineIndex=h+1;continue;}if(e>f.lineStartTime-i){if(b.lyricLine===f||c.lyricLine===f)continue;a=f;break;}}a&&(b.lyricLine?c.lyricLine||(c.lyricLine=a,populateKaraokeLine(a,c.container)):(b.lyricLine=a,populateKaraokeLine(a,b.container))),karaokeState.karaokeTimerId=setTimeout(function(){displayKaraokeLines();},16);};var karaokeState={karaokeTimerId:-1,lyricLines:null,audio:null,currentLineIndex:0,lineSlot1:{lyricLine:null,container:null},lineSlot2:{lyricLine:null,container:null}};document.getElementById('dont-karaoke-button').onclick=function(){document.getElementById('dont-karaoke-button').className+='hidden';},document.getElementById('start-karaoke-button').onclick=function(){document.getElementById('hide-when-button-clicked').textContent='',clearTimeout(karaokeState.karaokeTimerId),karaokeState.currentLineIndex=0,karaokeState.lineSlot1.lyricLine=karaokeState.lineSlot2.lyricLine=null;var a=document.getElementById('lyrics-data');karaokeState.lyricLines=getLinesWithDataFromLyricsWithoutRegex(a.textContent||a.innerText),document.getElementById('hide-when-button-clicked').textContent='',karaokeState.lineSlot1.container=document.getElementById('line-slot-1'),karaokeState.lineSlot2.container=document.getElementById('line-slot-2'),karaokeState.lineSlot1.container.textContent=karaokeState.lineSlot2.container.textContent='',karaokeState.audio=document.getElementById('karaoke-audio'),karaokeState.audio.currentTime=0,karaokeState.audio.play(),karaokeState.audio.className+='hidden',displayKaraokeLines();};</script>

</div>
</body>
</html>