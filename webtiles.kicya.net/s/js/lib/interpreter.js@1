/**
 * @license
 * Copyright 2012 Marijn Haverbeke
 * SPDX-License-Identifier: MIT
*/ !function(e,t){return"object"==typeof exports&&"object"==typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):void t(e.acorn||(e.acorn={}))}("undefined"==typeof globalThis?this||window:globalThis,function(e){"use strict";e.version="0.5.0";var t,r,n,o,i,a,s,p,u,c,l,h,f,d,E,$="";e.parse=function(e,o){return r=($=String(e)).length,function e(r){for(var o in t=r||{},y)Object.prototype.hasOwnProperty.call(t,o)||(t[o]=y[o]);n=t.sourceFile}(o),u=1,b=c=0,p=!0,e4(),function e(r){O=g=b,t.locations&&(l=new eM),h=d=!1,f=[],e3();var n=r||eH(),o=!0;for(r||(n.body=[]);a!==C;){var i=ts();n.body.push(i),o&&eQ(i)&&eW(!0),o=!1}return e9(n,"Program")}(t.program)};var y={strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null},v=function(e,t){for(var r=1,n=0;;){eL.lastIndex=n;var o=eL.exec(e);if(o&&o.index<t)++r,n=o.index+o[0].length;else break}return{line:r,column:t-n}},b=0,R=0,I=0,O=0,g=0;function _(e,t){var r=v($,e),n=SyntaxError(t+=" ("+r.line+":"+r.column+")");throw n.pos=e,n.loc=r,n.raisedAt=b,n}var m=[],N={type:"num"},P={type:"regexp"},S={type:"string"},T={type:"name"},C={type:"eof"},w={keyword:"break"},A={keyword:"case",beforeExpr:!0},x={keyword:"catch"},k={keyword:"continue"},j={keyword:"debugger"},U={keyword:"default"},L={keyword:"do",isLoop:!0},F={keyword:"else",beforeExpr:!0},D={keyword:"finally"},M={keyword:"for",isLoop:!0},B={keyword:"function"},G={keyword:"if"},Y={keyword:"return",beforeExpr:!0},V={keyword:"switch"},X={keyword:"throw",beforeExpr:!0},J={keyword:"try"},W={keyword:"var"},q={keyword:"while",isLoop:!0},z={keyword:"with"},H={keyword:"new",beforeExpr:!0},K={keyword:"this"},Q={keyword:"null",atomValue:null},Z={keyword:"true",atomValue:!0},ee={keyword:"false",atomValue:!1},et={keyword:"in",binop:7,beforeExpr:!0},er={break:w,case:A,catch:x,continue:k,debugger:j,default:U,do:L,else:F,finally:D,for:M,function:B,if:G,return:Y,switch:V,throw:X,try:J,var:W,while:q,with:z,null:Q,true:Z,false:ee,new:H,in:et,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:K,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},en={type:"[",beforeExpr:!0},eo={type:"]"},ei={type:"{",beforeExpr:!0},ea={type:"}"},es={type:"(",beforeExpr:!0},ep={type:")"},eu={type:",",beforeExpr:!0},ec={type:";",beforeExpr:!0},el={type:":",beforeExpr:!0},eh={type:"."},ef={type:"?",beforeExpr:!0},ed={binop:10,beforeExpr:!0},eE={isAssign:!0,beforeExpr:!0},e$={isAssign:!0,beforeExpr:!0},ey={postfix:!0,prefix:!0,isUpdate:!0},ev={prefix:!0,beforeExpr:!0},eb={binop:1,beforeExpr:!0},eR={binop:2,beforeExpr:!0},eI={binop:3,beforeExpr:!0},e8={binop:4,beforeExpr:!0},eO={binop:5,beforeExpr:!0},eg={binop:6,beforeExpr:!0},e_={binop:7,beforeExpr:!0},em={binop:8,beforeExpr:!0},eN={binop:9,prefix:!0,beforeExpr:!0},eP={binop:10,beforeExpr:!0};function eS(e){for(var t=e.split(" "),r=Object.create(null),n=0;n<t.length;n++)r[t[n]]=!0;return function(e){return r[e]||!1}}var eT=eS("class enum extends super const export import"),eC=eS("implements interface let package private protected public static yield"),ew=eS("eval arguments"),eA=eS("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),ex=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ek="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",e0=RegExp("["+ek+"]"),ej=RegExp("["+ek+"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿]"),eU=/[\n\r\u2028\u2029]/,eL=/\r\n|[\n\r\u2028\u2029]/g,eF=function(e){return e<65?36===e:e<91||(e<97?95===e:e<123||e>=170&&e0.test(String.fromCharCode(e)))},eD=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||e>=170&&ej.test(String.fromCharCode(e))))};function eM(){this.line=u,this.column=b-c}function e1(e,r){I=b,t.locations&&(i=new eM),a=e,e4(),s=r,p=e.beforeExpr}function eB(){var e,r=t.onComment&&t.locations&&new eM,n=b,o=$.indexOf("*/",b+=2);if(-1===o&&_(b-2,"Unterminated comment"),b=o+2,t.locations)for(eL.lastIndex=n;(e=eL.exec($))&&e.index<b;)++u,c=e.index+e[0].length;t.onComment&&t.onComment(!0,$.slice(n+2,o),n,b,r,t.locations&&new eM)}function e6(){for(var e=b,n=t.onComment&&t.locations&&new eM,o=$.charCodeAt(b+=2);b<r&&10!==o&&13!==o&&8232!==o&&8233!==o;)++b,o=$.charCodeAt(b);t.onComment&&t.onComment(!1,$.slice(e+2,b),e,b,n,t.locations&&new eM)}function e4(){for(;b<r;){var e=$.charCodeAt(b);if(32===e)++b;else if(13===e){++b;var n=$.charCodeAt(b);10===n&&++b,t.locations&&(++u,c=b)}else if(10===e||8232===e||8233===e)++b,t.locations&&(++u,c=b);else if(e>8&&e<14)++b;else if(47===e){var n=$.charCodeAt(b+1);if(42===n)eB();else if(47===n)e6();else break}else if(160===e)++b;else if(e>=5760&&ex.test(String.fromCharCode(e)))++b;else break}}function e3(e){if(e?b=R+1:R=b,t.locations&&(o=new eM),e)return e5();if(b>=r)return e1(C);var n=$.charCodeAt(b);if(eF(n)||92===n)return eX();if(!1===function e(n){switch(n){case 46:return void((i=$.charCodeAt(b+1))>=48&&i<=57?eG(!0):(++b,e1(eh)));case 40:return++b,e1(es);case 41:return++b,e1(ep);case 59:return++b,e1(ec);case 44:return++b,e1(eu);case 91:return++b,e1(en);case 93:return++b,e1(eo);case 123:return++b,e1(ei);case 125:return++b,e1(ea);case 58:return++b,e1(el);case 63:return++b,e1(ef);case 48:var o,i,a,s,l,h,f=$.charCodeAt(b+1);if(120===f||88===f){return b+=2,o=e2(16),void(null===o&&_(R+2,"Expected hexadecimal number"),eF($.charCodeAt(b))&&_(b,"Identifier directly after number"),e1(N,o))}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return eG(!1);case 34:case 39:return function e(n){b++;for(var o="";;){b>=r&&_(R,"Unterminated string constant");var i=$.charCodeAt(b);if(i===n){++b,e1(S,o);return}if(92===i){i=$.charCodeAt(++b);var a=/^[0-7]+/.exec($.slice(b,b+3));for(a&&(a=a[0]);a&&parseInt(a,8)>255;)a=a.slice(0,-1);if("0"===a&&(a=null),++b,a)d&&_(b-2,"Octal literal in strict mode"),o+=String.fromCharCode(parseInt(a,8)),b+=a.length-1;else switch(i){case 110:o+="\n";break;case 114:o+="\r";break;case 120:o+=String.fromCharCode(eY(2));break;case 117:o+=String.fromCharCode(eY(4));break;case 85:o+=String.fromCharCode(eY(8));break;case 116:o+="	";break;case 98:o+="\b";break;case 118:o+="\v";break;case 102:o+="\f";break;case 48:o+="\0";break;case 13:10===$.charCodeAt(b)&&++b;case 10:t.locations&&(c=b,++u);break;default:o+=String.fromCharCode(i)}}else(13===i||10===i||8232===i||8233===i)&&_(R,"Unterminated string constant"),o+=String.fromCharCode(i),++b}}(n);case 47:return a=$.charCodeAt(b+1),void(p?(++b,e5()):61===a?e7(e$,2):e7(ed,1));case 37:case 42:return void(61===$.charCodeAt(b+1)?e7(e$,2):e7(eP,1));case 124:case 38:return s=n,void((l=$.charCodeAt(b+1))===s?e7(124===s?eb:eR,2):61===l?e7(e$,2):e7(124===s?eI:eO,1));case 94:return void(61===$.charCodeAt(b+1)?e7(e$,2):e7(e8,1));case 43:case 45:return function e(t){var r=$.charCodeAt(b+1);if(r===t){if(45===r&&62===$.charCodeAt(b+2)&&eU.test($.slice(g,b))){b+=3,e6(),e4(),e3();return}e7(ey,2)}else 61===r?e7(e$,2):e7(eN,1)}(n);case 60:case 62:return function e(t){var r=$.charCodeAt(b+1),n=1;if(r===t){n=62===t&&62===$.charCodeAt(b+2)?3:2,61===$.charCodeAt(b+n)?e7(e$,n+1):e7(em,n);return}if(33===r&&60===t&&45===$.charCodeAt(b+2)&&45===$.charCodeAt(b+3)){b+=4,e6(),e4(),e3();return}61===r&&(n=61===$.charCodeAt(b+2)?3:2),e7(e_,n)}(n);case 61:case 33:return h=n,void(61===$.charCodeAt(b+1)?e7(eg,61===$.charCodeAt(b+2)?3:2):e7(61===h?eE:ev,1));case 126:return e7(ev,1)}return!1}(n)){var i=String.fromCharCode(n);if("\\"===i||e0.test(i))return eX();_(b,"Unexpected character '"+i+"'")}}function e7(e,t){var r=$.slice(b,b+t);b+=t,e1(e,r)}function e5(){for(var e,t,n=b;;){b>=r&&_(n,"Unterminated regexp");var o=$.charAt(b);if(eU.test(o)&&_(n,"Unterminated regexp"),e)e=!1;else{if("["===o)t=!0;else if("]"===o&&t)t=!1;else if("/"===o&&!t)break;e="\\"===o}++b}var i=$.slice(n,b);++b;var a=eV();a&&!/^[gmi]*$/.test(a)&&_(n,"Invalid regexp flag");try{var s=RegExp(i,a)}catch(p){throw p instanceof SyntaxError&&_(n,p.message),p}e1(P,s)}function e2(e,t){for(var r=b,n=0,o=void 0===t?1/0:t,i=0;i<o;++i){var a,s=$.charCodeAt(b);if((a=s>=97?s-97+10:s>=65?s-65+10:s>=48&&s<=57?s-48:1/0)>=e)break;++b,n=n*e+a}return b===r||void 0!==t&&b-r!==t?null:n}function eG(e){var t,r=b,n=!1,o=48===$.charCodeAt(b);e||null!==e2(10)||_(r,"Invalid number"),46===$.charCodeAt(b)&&(++b,e2(10),n=!0);var i=$.charCodeAt(b);(69===i||101===i)&&((43===(i=$.charCodeAt(++b))||45===i)&&++b,null===e2(10)&&_(r,"Invalid number"),n=!0),eF($.charCodeAt(b))&&_(b,"Identifier directly after number");var a=$.slice(r,b);n?t=parseFloat(a):o&&1!==a.length?/[89]/.test(a)||d?_(r,"Invalid number"):t=parseInt(a,8):t=parseInt(a,10),e1(N,t)}function eY(e){var t=e2(16,e);return null===t&&_(R,"Bad character escape sequence"),t}function eV(){E=!1;for(var e,t=!0,r=b;;){var n=$.charCodeAt(b);if(eD(n))E&&(e+=$.charAt(b)),++b;else if(92===n){E||(e=$.slice(r,b)),E=!0,117!==$.charCodeAt(++b)&&_(b,"Expecting Unicode escape sequence \\uXXXX"),++b;var o=eY(4),i=String.fromCharCode(o);i||_(b-1,"Invalid Unicode escape"),(t?eF(o):eD(o))||_(b-4,"Invalid Unicode escape"),e+=i}else break;t=!1}return E?e:$.slice(r,b)}function eX(){var e=eV(),t=T;!E&&eA(e)&&(t=er[e]),e1(t,e)}function eJ(){O=R,g=I,l=i,e3()}function eW(e){if(d=e,b=R,t.locations)for(;b<c;)c=$.lastIndexOf("\n",c-2)+1,--u;e4(),e3()}function eq(){this.type=null,this.start=R,this.end=null}function ez(){this.start=o,this.end=null,n&&(this.source=n)}function eH(){var e=new eq;return t.locations&&(e.loc=new ez),t.directSourceFile&&(e.sourceFile=t.directSourceFile),t.ranges&&(e.range=[R,0]),e}function eK(e){var r=new eq;return r.start=e.start,t.locations&&(r.loc=new ez,r.loc.start=e.loc.start),t.ranges&&(r.range=[e.range[0],0]),r}function e9(e,r){return e.type=r,e.end=g,t.locations&&(e.loc.end=l),t.ranges&&(e.range[1]=g),e}function eQ(e){return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"use strict"===e.expression.value}function eZ(e){return a===e&&(eJ(),!0)}function te(){return!t.strictSemicolons&&(a===C||a===ea||eU.test($.slice(g,R)))}function tt(){eZ(ec)||te()||tn()}function tr(e){a===e?eJ():tn()}function tn(){_(R,"Unexpected token")}function to(e){"Identifier"!==e.type&&"MemberExpression"!==e.type&&_(e.start,"Assigning to rvalue"),d&&"Identifier"===e.type&&ew(e.name)&&_(e.start,"Assigning to "+e.name+" in strict mode")}var ti={kind:"loop"},ta={kind:"switch"};function ts(){(a===ed||a===e$&&"/="===s)&&e3(!0);var e,r,n=a,o=eH();switch(n){case w:case k:eJ();var i=n===w;eZ(ec)||te()?o.label=null:a!==T?tn():(o.label=tI(),tt());for(var p=0;p<f.length;++p){var u=f[p];if((null===o.label||u.name===o.label.name)&&(null!==u.kind&&(i||"loop"===u.kind)||o.label&&i))break}return p===f.length&&_(o.start,"Unsyntactic "+n.keyword),e9(o,i?"BreakStatement":"ContinueStatement");case j:return eJ(),tt(),e9(o,"DebuggerStatement");case L:return eJ(),f.push(ti),o.body=ts(),f.pop(),tr(q),o.test=tp(),tt(),e9(o,"DoWhileStatement");case M:if(eJ(),f.push(ti),tr(es),a===ec)return tc(o,null);if(a===W){var c=eH();if(eJ(),th(c,!0),e9(c,"VariableDeclaration"),1===c.declarations.length&&eZ(et))return tl(o,c);return tc(o,c)}var c=tf(!1,!0);if(eZ(et))return to(c),tl(o,c);return tc(o,c);case B:return eJ(),tb(o,!0);case G:return eJ(),o.test=tp(),o.consequent=ts(),o.alternate=eZ(F)?ts():null,e9(o,"IfStatement");case Y:return h||t.allowReturnOutsideFunction||_(R,"'return' outside of function"),eJ(),eZ(ec)||te()?o.argument=null:(o.argument=tf(),tt()),e9(o,"ReturnStatement");case V:for(eJ(),o.discriminant=tp(),o.cases=[],tr(ei),f.push(ta);a!==ea;)if(a===A||a===U){var l=a===A;e&&e9(e,"SwitchCase"),o.cases.push(e=eH()),e.consequent=[],eJ(),l?e.test=tf():(r&&_(O,"Multiple default clauses"),r=!0,e.test=null),tr(el)}else e||tn(),e.consequent.push(ts());return e&&e9(e,"SwitchCase"),eJ(),f.pop(),e9(o,"SwitchStatement");case X:return eJ(),eU.test($.slice(g,R))&&_(g,"Illegal newline after throw"),o.argument=tf(),tt(),e9(o,"ThrowStatement");case J:if(eJ(),o.block=tu(),o.handler=null,a===x){var E=eH();eJ(),tr(es),E.param=tI(),d&&ew(E.param.name)&&_(E.param.start,"Binding "+E.param.name+" in strict mode"),tr(ep),E.body=tu(),o.handler=e9(E,"CatchClause")}return o.finalizer=eZ(D)?tu():null,o.handler||o.finalizer||_(o.start,"Missing catch or finally clause"),e9(o,"TryStatement");case W:return eJ(),th(o),tt(),e9(o,"VariableDeclaration");case q:return eJ(),o.test=tp(),f.push(ti),o.body=ts(),f.pop(),e9(o,"WhileStatement");case z:return d&&_(R,"'with' in strict mode"),eJ(),o.object=tp(),o.body=ts(),e9(o,"WithStatement");case ei:return tu();case ec:return eJ(),e9(o,"EmptyStatement");default:var y=s,v=tf();if(!(n===T&&"Identifier"===v.type&&eZ(el)))return o.expression=v,tt(),e9(o,"ExpressionStatement");for(var p=0;p<f.length;++p)f[p].name===y&&_(v.start,"Label '"+y+"' is already declared");var b=a.isLoop?"loop":a===V?"switch":null;return f.push({name:y,kind:b}),o.body=ts(),f.pop(),o.label=v,e9(o,"LabeledStatement")}}function tp(){tr(es);var e=tf();return tr(ep),e}function tu(e){var t,r=eH(),n=!0,o=!1;for(r.body=[],tr(ei);!eZ(ea);){var i=ts();r.body.push(i),n&&e&&eQ(i)&&(t=o,eW(o=!0)),n=!1}return o&&!t&&eW(!1),e9(r,"BlockStatement")}function tc(e,t){return e.init=t,tr(ec),e.test=a===ec?null:tf(),tr(ec),e.update=a===ep?null:tf(),tr(ep),e.body=ts(),f.pop(),e9(e,"ForStatement")}function tl(e,t){return e.left=t,e.right=tf(),tr(ep),e.body=ts(),f.pop(),e9(e,"ForInStatement")}function th(e,t){for(e.declarations=[],e.kind="var";;){var r=eH();if(r.id=tI(),d&&ew(r.id.name)&&_(r.id.start,"Binding "+r.id.name+" in strict mode"),r.init=eZ(eE)?tf(!0,t):null,e.declarations.push(e9(r,"VariableDeclarator")),!eZ(eu))break}}function tf(e,t){var r=td(t);if(!e&&a===eu){var n=eK(r);for(n.expressions=[r];eZ(eu);)n.expressions.push(td(t));return e9(n,"SequenceExpression")}return r}function td(e){var t=function e(t){var r,n=(r=t,function e(t,r,n){var o=a.binop;if(null!==o&&(!n||a!==et)&&o>r){var i=eK(t);i.left=t,i.operator=s;var p=a;eJ(),i.right=e(tE(),o,n);var u=e9(i,p===eb||p===eR?"LogicalExpression":"BinaryExpression");return e(u,r,n)}return t}(tE(),-1,r));if(eZ(ef)){var o=eK(n);return o.test=n,o.consequent=tf(!0),tr(el),o.alternate=tf(!0,t),e9(o,"ConditionalExpression")}return n}(e);if(a.isAssign){var r=eK(t);return r.operator=s,r.left=t,eJ(),r.right=td(e),to(t),e9(r,"AssignmentExpression")}return t}function tE(){if(a.prefix){var e=eH(),t=a.isUpdate;return e.operator=s,e.prefix=!0,p=!0,eJ(),e.argument=tE(),t?to(e.argument):d&&"delete"===e.operator&&"Identifier"===e.argument.type&&_(e.start,"Deleting local variable in strict mode"),e9(e,t?"UpdateExpression":"UnaryExpression")}for(var r=t$(ty());a.postfix&&!te();){var e=eK(r);e.operator=s,e.prefix=!1,e.argument=r,to(r),eJ(),r=e9(e,"UpdateExpression")}return r}function t$(e,t){var r;return eZ(eh)?((r=eK(e)).object=e,r.property=tI(!0),r.computed=!1,t$(e9(r,"MemberExpression"),t)):eZ(en)?((r=eK(e)).object=e,r.property=tf(),r.computed=!0,tr(eo),t$(e9(r,"MemberExpression"),t)):!t&&eZ(es)?((r=eK(e)).callee=e,r.arguments=tR(ep,!1),t$(e9(r,"CallExpression"),t)):e}function ty(){switch(a){case K:return e=eH(),eJ(),e9(e,"ThisExpression");case T:return tI();case N:case S:case P:return(e=eH()).value=s,e.raw=$.slice(R,I),eJ(),e9(e,"Literal");case Q:case Z:case ee:return(e=eH()).value=a.atomValue,e.raw=a.keyword,eJ(),e9(e,"Literal");case es:var e,r,n=o,p=R;eJ();var u=tf();return u.start=p,u.end=I,t.locations&&(u.loc.start=n,u.loc.end=i),t.ranges&&(u.range=[p,I]),tr(ep),u;case en:return e=eH(),eJ(),e.elements=tR(eo,!0,!0),e9(e,"ArrayExpression");case ei:return function e(){var r=eH(),n=!0,o=!1;for(r.properties=[],eJ();!eZ(ea);){if(n)n=!1;else if(tr(eu),t.allowTrailingCommas&&eZ(ea))break;var i,s={key:tv()},p=!1;if(eZ(el)?(s.value=tf(!0),i=s.kind="init"):"Identifier"===s.key.type&&("get"===s.key.name||"set"===s.key.name)?(p=o=!0,i=s.kind=s.key.name,s.key=tv(),a!==es&&tn(),s.value=tb(eH(),!1)):tn(),"Identifier"===s.key.type&&(d||o))for(var u=0;u<r.properties.length;++u){var c=r.properties[u];if(c.key.name===s.key.name){var l=i===c.kind||p&&"init"===c.kind||"init"===i&&("get"===c.kind||"set"===c.kind);l&&!d&&"init"===i&&"init"===c.kind&&(l=!1),l&&_(s.key.start,"Redefinition of property")}}r.properties.push(s)}return e9(r,"ObjectExpression")}();case B:return e=eH(),eJ(),tb(e,!1);case H:return r=eH(),eJ(),r.callee=t$(ty(),!0),r.arguments=eZ(es)?tR(ep,!1):m,e9(r,"NewExpression")}tn()}function tv(){return a===N||a===S?ty():tI(!0)}function tb(e,t){a===T?e.id=tI():t?tn():e.id=null,e.params=[];var r=!0;for(tr(es);!eZ(ep);)r?r=!1:tr(eu),e.params.push(tI());var n=h,o=f;if(h=!0,f=[],e.body=tu(!0),h=n,f=o,d||e.body.body.length&&eQ(e.body.body[0]))for(var i=e.id?-1:0;i<e.params.length;++i){var s=i<0?e.id:e.params[i];if((eC(s.name)||ew(s.name))&&_(s.start,"Defining '"+s.name+"' in strict mode"),i>=0)for(var p=0;p<i;++p)s.name===e.params[p].name&&_(s.start,"Argument name clash in strict mode")}return e9(e,t?"FunctionDeclaration":"FunctionExpression")}function tR(e,r,n){for(var o=[],i=!0;!eZ(e);){if(i)i=!1;else if(tr(eu),r&&t.allowTrailingCommas&&eZ(e))break;o.push(n&&a===eu?null:tf(!0))}return o}function tI(e){var r=eH();return e&&"everywhere"===t.forbidReserved&&(e=!1),a===T?(!e&&(t.forbidReserved&&eT(s)||d&&eC(s))&&-1===$.slice(R,I).indexOf("\\")&&_(R,"The keyword '"+s+"' is reserved"),r.name=s):e&&a.keyword?r.name=a.keyword:tn(),p=!1,eJ(),e9(r,"Identifier")}});/**
* @license
* Copyright 2013 Neil Fraser
* SPDX-License-Identifier: Apache-2.0
*/ var Interpreter=function(e,t){"string"==typeof e&&(e=this.parse_(e,"code"));var r,n=e.constructor;this.newNode=function(){return new n({options:{}})};var o=this.newNode();for(var i in e)o[i]="body"===i?e[i].slice():e[i];this.ast=o,this.tasks=[],this.initFunc_=t,this.paused_=!1,this.polyfills_=[],this.functionCounter_=0,this.stepFunctions_=Object.create(null);var a=/^step([A-Z]\w*)$/;for(var s in this)"function"==typeof this[s]&&(r=s.match(a))&&(this.stepFunctions_[r[1]]=this[s].bind(this));this.globalScope=this.createScope(this.ast,null),this.globalObject=this.globalScope.object,this.ast=this.parse_(this.polyfills_.join("\n"),"polyfills"),this.polyfills_=void 0,Interpreter.stripLocations_(this.ast,void 0,void 0);var p=new Interpreter.State(this.ast,this.globalScope);p.done=!1,this.stateStack=[p],this.run(),this.value=void 0,this.ast=o,(p=new Interpreter.State(this.ast,this.globalScope)).done=!1,this.stateStack.length=0,this.stateStack[0]=p};Interpreter.Completion={NORMAL:0,BREAK:1,CONTINUE:2,RETURN:3,THROW:4},Interpreter.Status={DONE:0,STEP:1,TASK:2,ASYNC:3},Interpreter.PARSE_OPTIONS={locations:!0,ecmaVersion:5},Interpreter.READONLY_DESCRIPTOR={configurable:!0,enumerable:!0,writable:!1},Interpreter.NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!0},Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!1},Interpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR={configurable:!1,enumerable:!1,writable:!1},Interpreter.VARIABLE_DESCRIPTOR={configurable:!1,enumerable:!0,writable:!0},Interpreter.STEP_ERROR={STEP_ERROR:!0},Interpreter.SCOPE_REFERENCE={SCOPE_REFERENCE:!0},Interpreter.VALUE_IN_DESCRIPTOR={VALUE_IN_DESCRIPTOR:!0},Interpreter.REGEXP_TIMEOUT={REGEXP_TIMEOUT:!0},Interpreter.toStringCycles_=[],Interpreter.vm=null,Interpreter.currentInterpreter_=null,Interpreter.nativeGlobal="undefined"==typeof globalThis?this||window:globalThis,Interpreter.WORKER_CODE=["onmessage = function(e) {","var result;","var data = e.data;","switch (data[0]) {","case 'split':","result = data[1].split(data[2], data[3]);","break;","case 'match':","result = data[1].match(data[2]);","break;","case 'search':","result = data[1].search(data[2]);","break;","case 'replace':","result = data[1].replace(data[2], data[3]);","break;","case 'exec':","var regexp = data[1];","regexp.lastIndex = data[2];","result = [regexp.exec(data[3]), data[1].lastIndex];","break;","default:","throw Error('Unknown RegExp operation: ' + data[0]);","}","postMessage(result);","close();","};"],Interpreter.legalArrayLength=function(e){var t=e>>>0;return t===Number(e)?t:NaN},Interpreter.legalArrayIndex=function(e){var t=e>>>0;return String(t)===String(e)&&4294967295!==t?t:NaN},Interpreter.stripLocations_=function(e,t,r){for(var n in t?e.start=t:delete e.start,r?e.end=r:delete e.end,e)if(e[n]!==e.loc&&e.hasOwnProperty(n)){var o=e[n];o&&"object"==typeof o&&Interpreter.stripLocations_(o,t,r)}},Interpreter.prototype.REGEXP_MODE=2,Interpreter.prototype.REGEXP_THREAD_TIMEOUT=1e3,Interpreter.prototype.POLYFILL_TIMEOUT=1e3,Interpreter.prototype.getterStep_=!1,Interpreter.prototype.setterStep_=!1,Interpreter.prototype.appendCodeNumber_=0,Interpreter.prototype.taskCodeNumber_=0,Interpreter.prototype.parse_=function(e,t){var r={};for(var n in Interpreter.PARSE_OPTIONS)r[n]=Interpreter.PARSE_OPTIONS[n];return r.sourceFile=t,Interpreter.nativeGlobal.acorn.parse(e,r)},Interpreter.prototype.appendCode=function(e){var t=this.stateStack[0];if(!t||"Program"!==t.node.type)throw Error("Expecting original AST to start with a Program node");if("string"==typeof e&&(e=this.parse_(e,"appendCode"+this.appendCodeNumber_++)),!e||"Program"!==e.type)throw Error("Expecting new AST to start with a Program node");this.populateScope_(e,t.scope),Array.prototype.push.apply(t.node.body,e.body),t.node.body.variableCache_=null,t.done=!1},Interpreter.prototype.step=function(){var e,t=this.stateStack;do{var r=t[t.length-1];if(this.paused_)break;if(!r||"Program"===r.node.type&&r.done){if(!this.tasks.length)return!1;if(!(r=this.nextTask_()))break}var n=r.node,o=Interpreter.currentInterpreter_;Interpreter.currentInterpreter_=this;try{var i=this.stepFunctions_[n.type](t,r,n)}catch(a){if(a!==Interpreter.STEP_ERROR)throw this.value!==a&&(this.value=void 0),a}finally{Interpreter.currentInterpreter_=o}if(i&&t.push(i),this.getterStep_)throw this.value=void 0,Error("Getter not supported in this context");if(this.setterStep_)throw this.value=void 0,Error("Setter not supported in this context");e||n.end||(e=Date.now()+this.POLYFILL_TIMEOUT)}while(!n.end&&e>Date.now());return!0},Interpreter.prototype.run=function(){for(;!this.paused_&&this.step(););return this.paused_},Interpreter.prototype.getStatus=function(){if(this.paused_)return Interpreter.Status.ASYNC;var e=this.stateStack,t=e[e.length-1];if(t&&("Program"!==t.node.type||!t.done))return Interpreter.Status.STEP;var r=this.tasks[0];return r?r.time>Date.now()?Interpreter.Status.TASK:Interpreter.Status.STEP:(0,Interpreter.Status.DONE)},Interpreter.prototype.initGlobal=function(e){this.setProperty(e,"NaN",NaN,Interpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"Infinity",1/0,Interpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"undefined",void 0,Interpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"window",e,Interpreter.READONLY_DESCRIPTOR),this.setProperty(e,"this",e,Interpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"self",e),this.OBJECT_PROTO=new Interpreter.Object(null),this.FUNCTION_PROTO=new Interpreter.Object(this.OBJECT_PROTO),this.initFunction(e),this.initObject(e),e.proto=this.OBJECT_PROTO,this.setProperty(e,"constructor",this.OBJECT,Interpreter.NONENUMERABLE_DESCRIPTOR),this.initArray(e),this.initString(e),this.initBoolean(e),this.initNumber(e),this.initDate(e),this.initRegExp(e),this.initError(e),this.initMath(e),this.initJSON(e);var t,r=this,n=this.createNativeFunction(function(e){throw EvalError("Can't happen")},!1);n.eval=!0,this.setProperty(e,"eval",n,Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"parseInt",this.createNativeFunction(parseInt,!1),Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"parseFloat",this.createNativeFunction(parseFloat,!1),Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"isNaN",this.createNativeFunction(isNaN,!1),Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"isFinite",this.createNativeFunction(isFinite,!1),Interpreter.NONENUMERABLE_DESCRIPTOR);for(var o=[[escape,"escape"],[unescape,"unescape"],[decodeURI,"decodeURI"],[decodeURIComponent,"decodeURIComponent"],[encodeURI,"encodeURI"],[encodeURIComponent,"encodeURIComponent"]],i=0;i<o.length;i++)t=function(e){return function(t){try{return e(t)}catch(n){r.throwException(r.URI_ERROR,n.message)}}}(o[i][0]),this.setProperty(e,o[i][1],this.createNativeFunction(t,!1),Interpreter.NONENUMERABLE_DESCRIPTOR);t=function e(t){return r.createTask_(!1,arguments)},this.setProperty(e,"setTimeout",this.createNativeFunction(t,!1),Interpreter.NONENUMERABLE_DESCRIPTOR),t=function e(t){return r.createTask_(!0,arguments)},this.setProperty(e,"setInterval",this.createNativeFunction(t,!1),Interpreter.NONENUMERABLE_DESCRIPTOR),t=function e(t){r.deleteTask_(t)},this.setProperty(e,"clearTimeout",this.createNativeFunction(t,!1),Interpreter.NONENUMERABLE_DESCRIPTOR),t=function e(t){r.deleteTask_(t)},this.setProperty(e,"clearInterval",this.createNativeFunction(t,!1),Interpreter.NONENUMERABLE_DESCRIPTOR),this.OBJECT=this.OBJECT,this.OBJECT_PROTO=this.OBJECT_PROTO,this.FUNCTION=this.FUNCTION,this.FUNCTION_PROTO=this.FUNCTION_PROTO,this.ARRAY=this.ARRAY,this.ARRAY_PROTO=this.ARRAY_PROTO,this.REGEXP=this.REGEXP,this.REGEXP_PROTO=this.REGEXP_PROTO,this.DATE=this.DATE,this.DATE_PROTO=this.DATE_PROTO,this.initFunc_&&this.initFunc_(this,e)},Interpreter.prototype.functionCodeNumber_=0,Interpreter.prototype.initFunction=function(e){var t,r=this,n=/^[A-Za-z_$][\w$]*$/;t=function e(t){if(arguments.length)var o=String(arguments[arguments.length-1]);else var o="";var i=Array.prototype.slice.call(arguments,0,-1).join(",").trim();if(i){for(var a=i.split(/\s*,\s*/),s=0;s<a.length;s++){var p=a[s];n.test(p)||r.throwException(r.SYNTAX_ERROR,"Invalid function argument: "+p)}i=a.join(", ")}try{var u=r.parse_("(function("+i+") {"+o+"})","function"+r.functionCodeNumber_++)}catch(c){r.throwException(r.SYNTAX_ERROR,"Invalid code: "+c.message)}1!==u.body.length&&r.throwException(r.SYNTAX_ERROR,"Invalid code in function body");var l=u.body[0].expression;return r.createFunction(l,r.globalScope,"anonymous")},this.FUNCTION=this.createNativeFunction(t,!0),this.setProperty(e,"Function",this.FUNCTION,Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.FUNCTION,"prototype",this.FUNCTION_PROTO,Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.FUNCTION_PROTO,"constructor",this.FUNCTION,Interpreter.NONENUMERABLE_DESCRIPTOR),this.FUNCTION_PROTO.nativeFunc=function(){},this.FUNCTION_PROTO.nativeFunc.id=this.functionCounter_++,this.FUNCTION_PROTO.illegalConstructor=!0,this.setProperty(this.FUNCTION_PROTO,"length",0,Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),this.FUNCTION_PROTO.class="Function",t=function e(t,n,o){var i=r.stateStack[r.stateStack.length-1];i.func_=t,i.funcThis_=n,i.arguments_=[],null!=o&&(o instanceof Interpreter.Object?i.arguments_=Array.from(o.properties):r.throwException(r.TYPE_ERROR,"CreateListFromArrayLike called on non-object")),i.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"apply",t),this.polyfills_.push("(function() {","var apply_ = Function.prototype.apply;","Function.prototype.apply = function apply(thisArg, args) {","var a2 = [];","for (var i = 0; i < args.length; i++) {","a2[i] = args[i];","}","return apply_(this, thisArg, a2);","};","})();"),t=function e(t){var n=r.stateStack[r.stateStack.length-1];n.func_=this,n.funcThis_=t,n.arguments_=[];for(var o=1;o<arguments.length;o++)n.arguments_.push(arguments[o]);n.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"call",t),this.polyfills_.push("Object.defineProperty(Function.prototype, 'bind',","{configurable: true, writable: true, value:","function bind(oThis) {","if (typeof this !== 'function') {","throw TypeError('What is trying to be bound is not callable');","}","var aArgs   = Array.prototype.slice.call(arguments, 1),","fToBind = this,","fNOP    = function() {},","fBound  = function() {","return fToBind.apply(this instanceof fNOP","? this",": oThis,","aArgs.concat(Array.prototype.slice.call(arguments)));","};","if (this.prototype) {","fNOP.prototype = this.prototype;","}","fBound.prototype = new fNOP();","return fBound;","}","});",""),t=function e(){return String(this)},this.setNativeFunctionPrototype(this.FUNCTION,"toString",t),this.setProperty(this.FUNCTION,"toString",this.createNativeFunction(t,!1),Interpreter.NONENUMERABLE_DESCRIPTOR),t=function e(){return this.valueOf()},this.setNativeFunctionPrototype(this.FUNCTION,"valueOf",t),this.setProperty(this.FUNCTION,"valueOf",this.createNativeFunction(t,!1),Interpreter.NONENUMERABLE_DESCRIPTOR)},Interpreter.prototype.initObject=function(e){var t,r=this;t=function e(t){if(null==t)return r.calledWithNew()?this:r.createObjectProto(r.OBJECT_PROTO);if(!(t instanceof Interpreter.Object)){var n=r.createObjectProto(r.getPrototype(t));return n.data=t,n}return t},this.OBJECT=this.createNativeFunction(t,!0),this.setProperty(this.OBJECT,"prototype",this.OBJECT_PROTO,Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.OBJECT_PROTO,"constructor",this.OBJECT,Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"Object",this.OBJECT,Interpreter.NONENUMERABLE_DESCRIPTOR);var n=function(e){null==e&&r.throwException(r.TYPE_ERROR,"Cannot convert '"+e+"' to object")};t=function e(t){n(t);var o=t instanceof Interpreter.Object?t.properties:t;return r.nativeToPseudo(Object.getOwnPropertyNames(o))},this.setProperty(this.OBJECT,"getOwnPropertyNames",this.createNativeFunction(t,!1),Interpreter.NONENUMERABLE_DESCRIPTOR),t=function e(t){return n(t),t instanceof Interpreter.Object&&(t=t.properties),r.nativeToPseudo(Object.keys(t))},this.setProperty(this.OBJECT,"keys",this.createNativeFunction(t,!1),Interpreter.NONENUMERABLE_DESCRIPTOR),t=function e(t){return null===t?r.createObjectProto(null):(t instanceof Interpreter.Object||r.throwException(r.TYPE_ERROR,"Object prototype may only be an Object or null, not "+t),r.createObjectProto(t))},this.setProperty(this.OBJECT,"create",this.createNativeFunction(t,!1),Interpreter.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("(function() {","var create_ = Object.create;","Object.create = function create(proto, props) {","var obj = create_(proto);","props && Object.defineProperties(obj, props);","return obj;","};","})();",""),t=function e(t,n,o){return n=String(n),t instanceof Interpreter.Object||r.throwException(r.TYPE_ERROR,"Object.defineProperty called on non-object: "+t),o instanceof Interpreter.Object||r.throwException(r.TYPE_ERROR,"Property description must be an object"),!t.preventExtensions||n in t.properties||r.throwException(r.TYPE_ERROR,"Can't define property '"+n+"', object is not extensible"),r.setProperty(t,n,Interpreter.VALUE_IN_DESCRIPTOR,o.properties),t},this.setProperty(this.OBJECT,"defineProperty",this.createNativeFunction(t,!1),Interpreter.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("(function() {","var defineProperty_ = Object.defineProperty;","Object.defineProperty = function defineProperty(obj, prop, d1) {","var d2 = {};","if ('configurable' in d1) d2.configurable = d1.configurable;","if ('enumerable' in d1) d2.enumerable = d1.enumerable;","if ('writable' in d1) d2.writable = d1.writable;","if ('value' in d1) d2.value = d1.value;","if ('get' in d1) d2.get = d1.get;","if ('set' in d1) d2.set = d1.set;","return defineProperty_(obj, prop, d2);","};","})();","Object.defineProperty(Object, 'defineProperties',","{configurable: true, writable: true, value:","function defineProperties(obj, props) {","var keys = Object.keys(props);","for (var i = 0; i < keys.length; i++) {","Object.defineProperty(obj, keys[i], props[keys[i]]);","}","return obj;","}","});",""),t=function e(t,n){if(t instanceof Interpreter.Object||r.throwException(r.TYPE_ERROR,"Object.getOwnPropertyDescriptor called on non-object: "+t),(n=String(n))in t.properties){var o=Object.getOwnPropertyDescriptor(t.properties,n),i=t.getter[n],a=t.setter[n],s=r.createObjectProto(r.OBJECT_PROTO);return i||a?(r.setProperty(s,"get",i),r.setProperty(s,"set",a)):(r.setProperty(s,"value",o.value),r.setProperty(s,"writable",o.writable)),r.setProperty(s,"configurable",o.configurable),r.setProperty(s,"enumerable",o.enumerable),s}},this.setProperty(this.OBJECT,"getOwnPropertyDescriptor",this.createNativeFunction(t,!1),Interpreter.NONENUMERABLE_DESCRIPTOR),t=function e(t){return n(t),r.getPrototype(t)},this.setProperty(this.OBJECT,"getPrototypeOf",this.createNativeFunction(t,!1),Interpreter.NONENUMERABLE_DESCRIPTOR),t=function e(t){return Boolean(t)&&!t.preventExtensions},this.setProperty(this.OBJECT,"isExtensible",this.createNativeFunction(t,!1),Interpreter.NONENUMERABLE_DESCRIPTOR),t=function e(t){return t instanceof Interpreter.Object&&(t.preventExtensions=!0),t},this.setProperty(this.OBJECT,"preventExtensions",this.createNativeFunction(t,!1),Interpreter.NONENUMERABLE_DESCRIPTOR),this.setNativeFunctionPrototype(this.OBJECT,"toString",Interpreter.Object.prototype.toString),this.setNativeFunctionPrototype(this.OBJECT,"toLocaleString",Interpreter.Object.prototype.toString),this.setNativeFunctionPrototype(this.OBJECT,"valueOf",Interpreter.Object.prototype.valueOf),t=function e(t){return(n(this),this instanceof Interpreter.Object)?String(t) in this.properties:this.hasOwnProperty(t)},this.setNativeFunctionPrototype(this.OBJECT,"hasOwnProperty",t),t=function e(t){return(n(this),this instanceof Interpreter.Object)?Object.prototype.propertyIsEnumerable.call(this.properties,t):this.propertyIsEnumerable(t)},this.setNativeFunctionPrototype(this.OBJECT,"propertyIsEnumerable",t),t=function e(t){for(;;){if(!(t=r.getPrototype(t)))return!1;if(t===this)return!0}},this.setNativeFunctionPrototype(this.OBJECT,"isPrototypeOf",t)},Interpreter.prototype.initArray=function(e){var t,r=this;t=function e(t){if(r.calledWithNew())var n=this;else var n=r.createArray();var o=arguments[0];if(1===arguments.length&&"number"==typeof o)isNaN(Interpreter.legalArrayLength(o))&&r.throwException(r.RANGE_ERROR,"Invalid array length: "+o),n.properties.length=o;else{for(var i=0;i<arguments.length;i++)n.properties[i]=arguments[i];n.properties.length=i}return n},this.ARRAY=this.createNativeFunction(t,!0),this.ARRAY_PROTO=this.ARRAY.properties.prototype,this.setProperty(e,"Array",this.ARRAY,Interpreter.NONENUMERABLE_DESCRIPTOR),t=function e(t){return t&&"Array"===t.class},this.setProperty(this.ARRAY,"isArray",this.createNativeFunction(t,!1),Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ARRAY_PROTO,"length",0,{configurable:!1,enumerable:!1,writable:!0}),this.ARRAY_PROTO.class="Array",this.polyfills_.push("(function() {","function createArrayMethod_(name, func) {","Object.defineProperty(func, 'name', {value: name});","Object.defineProperty(Array.prototype, name,","{configurable: true, writable: true, value: func});","}","createArrayMethod_('pop',","function() {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","if (!len || len < 0) {","o.length = 0;","return undefined;","}","len--;","var x = o[len];","delete o[len];","o.length = len;","return x;","}",");","createArrayMethod_('push',","function(var_args) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","for (var i = 0; i < arguments.length; i++) {","o[len] = arguments[i];","len++;","}","o.length = len;","return len;","}",");","createArrayMethod_('shift',","function() {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","if (!len || len < 0) {","o.length = 0;","return undefined;","}","var value = o[0];","for (var i = 0; i < len - 1; i++) {","if ((i + 1) in o) {","o[i] = o[i + 1];","} else {","delete o[i];","}","}","delete o[i];","o.length = len - 1;","return value;","}",");","createArrayMethod_('unshift',","function(var_args) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","if (!len || len < 0) {","len = 0;","}","for (var i = len - 1; i >= 0; i--) {","if (i in o) {","o[i + arguments.length] = o[i];","} else {","delete o[i + arguments.length];","}","}","for (var i = 0; i < arguments.length; i++) {","o[i] = arguments[i];","}","return (o.length = len + arguments.length);","}",");","createArrayMethod_('reverse',","function() {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","if (!len || len < 2) {","return o;","}","for (var i = 0; i < len / 2 - 0.5; i++) {","var x = o[i];","var hasX = i in o;","if ((len - i - 1) in o) {","o[i] = o[len - i - 1];","} else {","delete o[i];","}","if (hasX) {","o[len - i - 1] = x;","} else {","delete o[len - i - 1];","}","}","return o;","}",");","createArrayMethod_('indexOf',","function(searchElement, fromIndex) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","var n = fromIndex | 0;","if (!len || n >= len) {","return -1;","}","var i = Math.max(n >= 0 ? n : len - Math.abs(n), 0);","while (i < len) {","if (i in o && o[i] === searchElement) {","return i;","}","i++;","}","return -1;","}",");","createArrayMethod_('lastIndexOf',","function(searchElement, fromIndex) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","if (!len) {","return -1;","}","var n = len - 1;","if (arguments.length > 1) {","n = fromIndex | 0;","if (n) {","n = (n > 0 || -1) * Math.floor(Math.abs(n));","}","}","var i = n >= 0 ? Math.min(n, len - 1) : len - Math.abs(n);","while (i >= 0) {","if (i in o && o[i] === searchElement) {","return i;","}","i--;","}","return -1;","}",");","createArrayMethod_('slice',","function(start, end) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","start |= 0;","start = (start >= 0) ? start : Math.max(0, len + start);","if (typeof end !== 'undefined') {","if (end !== Infinity) {","end |= 0;","}","if (end < 0) {","end = len + end;","} else {","end = Math.min(end, len);","}","} else {","end = len;","}","var size = end - start;","var cloned = new Array(size);","for (var i = 0; i < size; i++) {","if ((start + i) in o) {","cloned[i] = o[start + i];","}","}","return cloned;","}",");","createArrayMethod_('splice',","function(start, deleteCount, var_args) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","start |= 0;","if (start < 0) {","start = Math.max(len + start, 0);","} else {","start = Math.min(start, len);","}","if (arguments.length < 2) {","deleteCount = len - start;","} else {","deleteCount |= 0;","deleteCount = Math.max(0, Math.min(deleteCount, len - start));","}","var removed = [];","for (var i = start; i < start + deleteCount; i++) {","if (i in o) {","removed.push(o[i]);","} else {","removed.length++;","}","if ((i + deleteCount) in o) {","o[i] = o[i + deleteCount];","} else {","delete o[i];","}","}","for (var i = start + deleteCount; i < len - deleteCount; i++) {","if ((i + deleteCount) in o) {","o[i] = o[i + deleteCount];","} else {","delete o[i];","}","}","for (var i = len - deleteCount; i < len; i++) {","delete o[i];","}","len -= deleteCount;","if (arguments.length > 2) {","var arl = arguments.length - 2;","for (var i = len - 1; i >= start; i--) {","if (i in o) {","o[i + arl] = o[i];","} else {","delete o[i + arl];","}","}","len += arl;","for (var i = 2; i < arguments.length; i++) {","o[start + i - 2] = arguments[i];","}","}","o.length = len;","return removed;","}",");","createArrayMethod_('concat',","function(var_args) {","if (!this) throw TypeError();","var o = Object(this);","var cloned = [];","for (var i = -1; i < arguments.length; i++) {","var value = (i === -1) ? o : arguments[i];","if (Array.isArray(value)) {","for (var j = 0, l = value.length; j < l; j++) {","if (j in value) {","cloned.push(value[j]);","} else {","cloned.length++;","}","}","} else {","cloned.push(value);","}","}","return cloned;","}",");","createArrayMethod_('join',","function(opt_separator) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","var sep = typeof opt_separator === 'undefined' ?","',' : ('' + opt_separator);","var str = '';","for (var i = 0; i < len; i++) {","if (i && sep) str += sep;","str += (o[i] === null || o[i] === undefined) ? '' : o[i];","}","return str;","}",");","createArrayMethod_('every',","function(callback, thisArg) {","if (!this || typeof callback !== 'function') throw TypeError();","var t, k = 0;","var o = Object(this), len = o.length >>> 0;","if (arguments.length > 1) t = thisArg;","while (k < len) {","if (k in o && !callback.call(t, o[k], k, o)) return false;","k++;","}","return true;","}",");","createArrayMethod_('filter',","function(callback, var_args) {","if (!this || typeof callback !== 'function') throw TypeError();","var o = Object(this), len = o.length >>> 0;","var res = [];","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in o) {","var val = o[i];","if (callback.call(thisArg, val, i, o)) res.push(val);","}","}","return res;","}",");","createArrayMethod_('forEach',","function(callback, thisArg) {","if (!this || typeof callback !== 'function') throw TypeError();","var t, k = 0;","var o = Object(this), len = o.length >>> 0;","if (arguments.length > 1) t = thisArg;","while (k < len) {","if (k in o) callback.call(t, o[k], k, o);","k++;","}","}",");","createArrayMethod_('map',","function(callback, thisArg) {","if (!this || typeof callback !== 'function') throw TypeError();","var t, k = 0;","var o = Object(this), len = o.length >>> 0;","if (arguments.length > 1) t = thisArg;","var a = new Array(len);","while (k < len) {","if (k in o) a[k] = callback.call(t, o[k], k, o);","k++;","}","return a;","}",");","createArrayMethod_('reduce',","function(callback /*, initialValue*/) {","if (!this || typeof callback !== 'function') throw TypeError();","var o = Object(this), len = o.length >>> 0;","var k = 0, value;","if (arguments.length === 2) {","value = arguments[1];","} else {","while (k < len && !(k in o)) k++;","if (k >= len) {","throw TypeError('Reduce of empty array with no initial value');","}","value = o[k++];","}","for (; k < len; k++) {","if (k in o) value = callback(value, o[k], k, o);","}","return value;","}",");","createArrayMethod_('reduceRight',","function(callback /*, initialValue*/) {","if (!this || typeof callback !== 'function') throw TypeError();","var o = Object(this), len = o.length >>> 0;","var k = len - 1, value;","if (arguments.length >= 2) {","value = arguments[1];","} else {","while (k >= 0 && !(k in o)) k--;","if (k < 0) {","throw TypeError('Reduce of empty array with no initial value');","}","value = o[k--];","}","for (; k >= 0; k--) {","if (k in o) value = callback(value, o[k], k, o);","}","return value;","}",");","createArrayMethod_('some',","function(callback /*, thisArg*/) {","if (!this || typeof callback !== 'function') throw TypeError();","var o = Object(this), len = o.length >>> 0;","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in o && callback.call(thisArg, o[i], i, o)) return true;","}","return false;","}",");","createArrayMethod_('sort',","function(opt_comp) {","if (!this) throw TypeError();","if (typeof opt_comp !== 'function') {","opt_comp = undefined;","}","for (var i = 0; i < this.length; i++) {","var changes = 0;","for (var j = 0; j < this.length - i - 1; j++) {","if (opt_comp ? (opt_comp(this[j], this[j + 1]) > 0) :","(String(this[j]) > String(this[j + 1]))) {","var swap = this[j];","var hasSwap = j in this;","if ((j + 1) in this) {","this[j] = this[j + 1];","} else {","delete this[j];","}","if (hasSwap) {","this[j + 1] = swap;","} else {","delete this[j + 1];","}","changes++;","}","}","if (!changes) break;","}","return this;","}",");","createArrayMethod_('toLocaleString',","function() {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","var out = [];","for (var i = 0; i < len; i++) {","out[i] = (o[i] === null || o[i] === undefined) ? '' : o[i].toLocaleString();","}","return out.join(',');","}",");","})();","")},Interpreter.prototype.initString=function(e){var t,r=this;t=function e(t){return(t=arguments.length?Interpreter.nativeGlobal.String(t):"",r.calledWithNew())?(this.data=t,this):t},this.STRING=this.createNativeFunction(t,!0),this.setProperty(e,"String",this.STRING,Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.STRING,"fromCharCode",this.createNativeFunction(String.fromCharCode,!1),Interpreter.NONENUMERABLE_DESCRIPTOR);for(var n=["charAt","charCodeAt","concat","indexOf","lastIndexOf","slice","substr","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim"],o=0;o<n.length;o++)this.setNativeFunctionPrototype(this.STRING,n[o],String.prototype[n[o]]);t=function e(t,n,o){n=r.pseudoToNative(n),o=r.pseudoToNative(o);try{return String(this).localeCompare(t,n,o)}catch(i){r.throwException(r.ERROR,"localeCompare: "+i.message)}},this.setNativeFunctionPrototype(this.STRING,"localeCompare",t),t=function e(t,n,o){var i=String(this);if(n=n?Number(n):void 0,r.isa(t,r.REGEXP)&&(t=t.data,r.maybeThrowRegExp(t,o),2===r.REGEXP_MODE)){if(Interpreter.vm){var a={string:i,separator:t,limit:n},s=r.vmCall("string.split(separator, limit)",a,t,o);s!==Interpreter.REGEXP_TIMEOUT&&o(r.nativeToPseudo(s))}else{var p=r.createWorker(),u=r.regExpTimeout(t,p,o);p.onmessage=function(e){clearTimeout(u),o(r.nativeToPseudo(e.data))},p.postMessage(["split",i,t,n])}return}var s=i.split(t,n);o(r.nativeToPseudo(s))},this.setAsyncFunctionPrototype(this.STRING,"split",t),t=function e(t,n){var o=String(this);if(t=r.isa(t,r.REGEXP)?t.data:RegExp(t),r.maybeThrowRegExp(t,n),2===r.REGEXP_MODE){if(Interpreter.vm){var i={string:o,regexp:t},a=r.vmCall("string.match(regexp)",i,t,n);a!==Interpreter.REGEXP_TIMEOUT&&n(a&&r.matchToPseudo_(a))}else{var s=r.createWorker(),p=r.regExpTimeout(t,s,n);s.onmessage=function(e){clearTimeout(p),n(e.data&&r.matchToPseudo_(e.data))},s.postMessage(["match",o,t])}return}var a=o.match(t);n(a&&r.matchToPseudo_(a))},this.setAsyncFunctionPrototype(this.STRING,"match",t),t=function e(t,n){var o=String(this);if(t=r.isa(t,r.REGEXP)?t.data:RegExp(t),r.maybeThrowRegExp(t,n),2===r.REGEXP_MODE){if(Interpreter.vm){var i={string:o,regexp:t},a=r.vmCall("string.search(regexp)",i,t,n);a!==Interpreter.REGEXP_TIMEOUT&&n(a)}else{var s=r.createWorker(),p=r.regExpTimeout(t,s,n);s.onmessage=function(e){clearTimeout(p),n(e.data)},s.postMessage(["search",o,t])}return}n(o.search(t))},this.setAsyncFunctionPrototype(this.STRING,"search",t),t=function e(t,n,o){var i=String(this);if(n=String(n),r.isa(t,r.REGEXP)&&(t=t.data,r.maybeThrowRegExp(t,o),2===r.REGEXP_MODE)){if(Interpreter.vm){var a={string:i,substr:t,newSubstr:n},s=r.vmCall("string.replace(substr, newSubstr)",a,t,o);s!==Interpreter.REGEXP_TIMEOUT&&o(s)}else{var p=r.createWorker(),u=r.regExpTimeout(t,p,o);p.onmessage=function(e){clearTimeout(u),o(e.data)},p.postMessage(["replace",i,t,n])}return}o(i.replace(t,n))},this.setAsyncFunctionPrototype(this.STRING,"replace",t),this.polyfills_.push("(function() {","var replace_ = String.prototype.replace;","String.prototype.replace = function replace(substr, newSubstr) {","if (typeof newSubstr !== 'function') {","return replace_.call(this, substr, newSubstr);","}","var str = this;","if (substr instanceof RegExp) {","var subs = [];","var m = substr.exec(str);","while (m) {","m.push(m.index, str);","var inject = newSubstr.apply(null, m);","subs.push([m.index, m[0].length, inject]);","m = substr.global ? substr.exec(str) : null;","}","for (var i = subs.length - 1; i >= 0; i--) {","str = str.substring(0, subs[i][0]) + subs[i][2] + ","str.substring(subs[i][0] + subs[i][1]);","}","} else {","var i = str.indexOf(substr);","if (i !== -1) {","var inject = newSubstr(str.substr(i, substr.length), i, str);","str = str.substring(0, i) + inject + ","str.substring(i + substr.length);","}","}","return str;","};","})();","")},Interpreter.prototype.initBoolean=function(e){var t,r=this;t=function e(t){return(t=Interpreter.nativeGlobal.Boolean(t),r.calledWithNew())?(this.data=t,this):t},this.BOOLEAN=this.createNativeFunction(t,!0),this.setProperty(e,"Boolean",this.BOOLEAN,Interpreter.NONENUMERABLE_DESCRIPTOR)},Interpreter.prototype.initNumber=function(e){var t,r=this;t=function e(t){return(t=arguments.length?Interpreter.nativeGlobal.Number(t):0,r.calledWithNew())?(this.data=t,this):t},this.NUMBER=this.createNativeFunction(t,!0),this.setProperty(e,"Number",this.NUMBER,Interpreter.NONENUMERABLE_DESCRIPTOR);for(var n=["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"],o=0;o<n.length;o++)this.setProperty(this.NUMBER,n[o],Number[n[o]],Interpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);t=function e(t){try{return Number(this).toExponential(t)}catch(n){r.throwException(r.ERROR,n.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toExponential",t),t=function e(t){try{return Number(this).toFixed(t)}catch(n){r.throwException(r.ERROR,n.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toFixed",t),t=function e(t){try{return Number(this).toPrecision(t)}catch(n){r.throwException(r.ERROR,n.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toPrecision",t),t=function e(t){try{return Number(this).toString(t)}catch(n){r.throwException(r.ERROR,n.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toString",t),t=function e(t,n){t=t?r.pseudoToNative(t):void 0,n=n?r.pseudoToNative(n):void 0;try{return Number(this).toLocaleString(t,n)}catch(o){r.throwException(r.ERROR,"toLocaleString: "+o.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toLocaleString",t)},Interpreter.prototype.initDate=function(e){var t,r=this;t=function e(t,n){if(!r.calledWithNew())return Interpreter.nativeGlobal.Date();var o=[null].concat(Array.from(arguments));return this.data=new(Function.prototype.bind.apply(Interpreter.nativeGlobal.Date,o)),this},this.DATE=this.createNativeFunction(t,!0),this.DATE_PROTO=this.DATE.properties.prototype,this.setProperty(e,"Date",this.DATE,Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.DATE,"now",this.createNativeFunction(Date.now,!1),Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.DATE,"parse",this.createNativeFunction(Date.parse,!1),Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.DATE,"UTC",this.createNativeFunction(Date.UTC,!1),Interpreter.NONENUMERABLE_DESCRIPTOR);for(var n=["getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toJSON","toGMTString","toLocaleDateString","toLocaleString","toLocaleTimeString","toTimeString","toUTCString"],o=0;o<n.length;o++)t=function(e){return function(t){var n=this.data;n instanceof Date||r.throwException(r.TYPE_ERROR,e+" not called on a Date");for(var o=[],i=0;i<arguments.length;i++)o[i]=r.pseudoToNative(arguments[i]);return n[e].apply(n,o)}}(n[o]),this.setNativeFunctionPrototype(this.DATE,n[o],t);t=function e(){try{return this.data.toISOString()}catch(t){r.throwException(r.RANGE_ERROR,"toISOString: "+t.message)}},this.setNativeFunctionPrototype(this.DATE,"toISOString",t)},Interpreter.prototype.initRegExp=function(e){var t,r=this;t=function e(t,n){if(r.calledWithNew())var o=this;else{if(void 0===n&&r.isa(t,r.REGEXP))return t;var o=r.createObjectProto(r.REGEXP_PROTO)}t=void 0===t?"":String(t),n=n?String(n):"",/^[gmi]*$/.test(n)||r.throwException(r.SYNTAX_ERROR,"Invalid regexp flag: "+n);try{var i=new Interpreter.nativeGlobal.RegExp(t,n)}catch(a){r.throwException(r.SYNTAX_ERROR,a.message)}return r.populateRegExp(o,i),o},this.REGEXP=this.createNativeFunction(t,!0),this.REGEXP_PROTO=this.REGEXP.properties.prototype,this.setProperty(e,"RegExp",this.REGEXP,Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"global",void 0,Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"ignoreCase",void 0,Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"multiline",void 0,Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"source","(?:)",Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("Object.defineProperty(RegExp.prototype, 'test',","{configurable: true, writable: true, value:","function test(str) {","return !!this.exec(str);","}","});"),t=function e(t,n){var o=this.data;if(t=String(t),o.lastIndex=Number(r.getProperty(this,"lastIndex")),r.maybeThrowRegExp(o,n),2===r.REGEXP_MODE){if(Interpreter.vm){var i={string:t,regexp:o},a=r.vmCall("regexp.exec(string)",i,o,n);a!==Interpreter.REGEXP_TIMEOUT&&(r.setProperty(this,"lastIndex",o.lastIndex),n(r.matchToPseudo_(a)))}else{var s=r.createWorker(),p=r.regExpTimeout(o,s,n),u=this;s.onmessage=function(e){clearTimeout(p),r.setProperty(u,"lastIndex",e.data[1]),n(r.matchToPseudo_(e.data[0]))},s.postMessage(["exec",o,o.lastIndex,t])}return}var a=o.exec(t);r.setProperty(this,"lastIndex",o.lastIndex),n(r.matchToPseudo_(a))},this.setAsyncFunctionPrototype(this.REGEXP,"exec",t)},Interpreter.prototype.matchToPseudo_=function(e){if(e){for(var t=Object.getOwnPropertyNames(e),r=0;r<t.length;r++){var n=t[r];isNaN(Number(n))&&"length"!==n&&"input"!==n&&"index"!==n&&delete e[n]}return this.nativeToPseudo(e)}return null},Interpreter.prototype.initError=function(e){var t=this;this.ERROR=this.createNativeFunction(function e(r){if(t.calledWithNew())var n=this;else var n=t.createObject(t.ERROR);return t.populateError(n,r),n},!0),this.setProperty(e,"Error",this.ERROR,Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ERROR.properties.prototype,"message","",Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ERROR.properties.prototype,"name","Error",Interpreter.NONENUMERABLE_DESCRIPTOR);var r=function(r){var n=t.createNativeFunction(function(e){if(t.calledWithNew())var r=this;else var r=t.createObject(n);return t.populateError(r,e),r},!0);return t.setProperty(n,"prototype",t.createObject(t.ERROR),Interpreter.NONENUMERABLE_DESCRIPTOR),t.setProperty(n.properties.prototype,"name",r,Interpreter.NONENUMERABLE_DESCRIPTOR),t.setProperty(e,r,n,Interpreter.NONENUMERABLE_DESCRIPTOR),n};this.EVAL_ERROR=r("EvalError"),this.RANGE_ERROR=r("RangeError"),this.REFERENCE_ERROR=r("ReferenceError"),this.SYNTAX_ERROR=r("SyntaxError"),this.TYPE_ERROR=r("TypeError"),this.URI_ERROR=r("URIError")},Interpreter.prototype.initMath=function(e){var t=this.createObjectProto(this.OBJECT_PROTO);this.setProperty(e,"Math",t,Interpreter.NONENUMERABLE_DESCRIPTOR);for(var r=["E","LN2","LN10","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],n=0;n<r.length;n++)this.setProperty(t,r[n],Math[r[n]],Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);for(var o=["abs","acos","asin","atan","atan2","ceil","cos","exp","floor","log","max","min","pow","random","round","sin","sqrt","tan"],n=0;n<o.length;n++)this.setProperty(t,o[n],this.createNativeFunction(Math[o[n]],!1),Interpreter.NONENUMERABLE_DESCRIPTOR)},Interpreter.prototype.initJSON=function(e){var t,r=this,n=r.createObjectProto(this.OBJECT_PROTO);this.setProperty(e,"JSON",n,Interpreter.NONENUMERABLE_DESCRIPTOR),t=function e(t){try{var n=JSON.parse(String(t))}catch(o){r.throwException(r.SYNTAX_ERROR,o.message)}return r.nativeToPseudo(n)},this.setProperty(n,"parse",this.createNativeFunction(t,!1)),t=function e(t,n,o){n&&"Function"===n.class?r.throwException(r.TYPE_ERROR,"Function replacer on JSON.stringify not supported"):n=n&&"Array"===n.class?(n=r.pseudoToNative(n)).filter(function(e){return"string"==typeof e||"number"==typeof e}):null,"string"!=typeof o&&"number"!=typeof o&&(o=void 0);var i=r.pseudoToNative(t);try{var a=JSON.stringify(i,n,o)}catch(s){r.throwException(r.TYPE_ERROR,s.message)}return a},this.setProperty(n,"stringify",this.createNativeFunction(t,!1))},Interpreter.prototype.isa=function(e,t){if(null==e||!t)return!1;var r=t.properties.prototype;if(e===r)return!0;for(e=this.getPrototype(e);e;){if(e===r)return!0;e=e.proto}return!1},Interpreter.prototype.populateRegExp=function(e,t){e.data=RegExp(t.source,t.flags),this.setProperty(e,"lastIndex",t.lastIndex,Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"source",t.source,Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"global",t.global,Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"ignoreCase",t.ignoreCase,Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"multiline",t.multiline,Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR)},Interpreter.prototype.populateError=function(e,t){t&&this.setProperty(e,"message",String(t),Interpreter.NONENUMERABLE_DESCRIPTOR);for(var r=[],n=this.stateStack.length-1;n>=0;n--){var o=this.stateStack[n],i=o.node;if("CallExpression"===i.type){var a=o.func_;a&&r.length&&(r[r.length-1].datumName=this.getProperty(a,"name"))}i.loc&&(!r.length||"CallExpression"===i.type)&&r.push({datumLoc:i.loc})}for(var s=String(this.getProperty(e,"name")),p=String(this.getProperty(e,"message")),u=s+": "+p+"\n",n=0;n<r.length;n++){var c=r[n].datumLoc,l=r[n].datumName,h=c.source+":"+c.start.line+":"+c.start.column;l?u+="  at "+l+" ("+h+")\n":u+="  at "+h+"\n"}this.setProperty(e,"stack",u.trim(),Interpreter.NONENUMERABLE_DESCRIPTOR)},Interpreter.prototype.createWorker=function(){var e=this.createWorker.blob_;return e||(e=new Blob([Interpreter.WORKER_CODE.join("\n")],{type:"application/javascript"}),this.createWorker.blob_=e),new Worker(URL.createObjectURL(e))},Interpreter.prototype.vmCall=function(e,t,r,n){var o={timeout:this.REGEXP_THREAD_TIMEOUT};try{return Interpreter.vm.runInNewContext(e,t,o)}catch(i){n(null),this.throwException(this.ERROR,"RegExp Timeout: "+r)}return Interpreter.REGEXP_TIMEOUT},Interpreter.prototype.maybeThrowRegExp=function(e,t){var r;if(0===this.REGEXP_MODE)r=!1;else if(1===this.REGEXP_MODE)r=!0;else if(Interpreter.vm)r=!0;else if("function"==typeof Worker&&"function"==typeof URL)r=!0;else if("function"==typeof require){try{Interpreter.vm=require("vm")}catch(n){}r=!!Interpreter.vm}else r=!1;r||(t(null),this.throwException(this.ERROR,"Regular expressions not supported: "+e))},Interpreter.prototype.regExpTimeout=function(e,t,r){var n=this;return setTimeout(function(){t.terminate(),r(null);try{n.throwException(n.ERROR,"RegExp Timeout: "+e)}catch(o){}},this.REGEXP_THREAD_TIMEOUT)},Interpreter.prototype.createObject=function(e){return this.createObjectProto(e&&e.properties.prototype)},Interpreter.prototype.createObjectProto=function(e){if("object"!=typeof e)throw Error("Non object prototype");var t=new Interpreter.Object(e);return this.isa(t,this.ERROR)&&(t.class="Error"),t},Interpreter.prototype.createArray=function(){var e=this.createObjectProto(this.ARRAY_PROTO);return this.setProperty(e,"length",0,{configurable:!1,enumerable:!1,writable:!0}),e.class="Array",e},Interpreter.prototype.createFunctionBase_=function(e,t){var r=this.createObjectProto(this.FUNCTION_PROTO);if(t){var n=this.createObjectProto(this.OBJECT_PROTO);this.setProperty(r,"prototype",n,Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(n,"constructor",r,Interpreter.NONENUMERABLE_DESCRIPTOR)}else r.illegalConstructor=!0;return this.setProperty(r,"length",e,Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),r.class="Function",r},Interpreter.prototype.createFunction=function(e,t,r){var n=this.createFunctionBase_(e.params.length,!0);n.parentScope=t,n.node=e;var o=e.id?String(e.id.name):r||"";return this.setProperty(n,"name",o,Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),n},Interpreter.prototype.createNativeFunction=function(e,t){var r=this.createFunctionBase_(e.length,t);return r.nativeFunc=e,e.id=this.functionCounter_++,this.setProperty(r,"name",e.name,Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),r},Interpreter.prototype.createAsyncFunction=function(e){var t=this.createFunctionBase_(e.length,!0);return t.asyncFunc=e,e.id=this.functionCounter_++,this.setProperty(t,"name",e.name,Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),t},Interpreter.prototype.nativeToPseudo=function(e,t){if(null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e)return e;if(e instanceof Interpreter.Object)throw Error("Object is already pseudo");var r,n,o=t||{pseudo:[],native:[]},i=o.native.indexOf(e);if(-1!==i)return o.pseudo[i];if(o.native.push(e),e instanceof RegExp){var a=this.createObjectProto(this.REGEXP_PROTO);return this.populateRegExp(a,e),o.pseudo.push(a),a}if(e instanceof Date){var s=this.createObjectProto(this.DATE_PROTO);return s.data=new Date(e.valueOf()),o.pseudo.push(s),s}if(e instanceof Number?r=this.createObject(this.NUMBER):e instanceof String?r=this.createObject(this.STRING):e instanceof Boolean&&(r=this.createObject(this.BOOLEAN)),r)return r.data=e.valueOf(),o.pseudo.push(r),r;if("function"==typeof e){var p=this,u=function(){var t=Array.prototype.slice.call(arguments).map(function(e){return p.pseudoToNative(e)}),r=e.apply(p,t);return p.nativeToPseudo(r)},c=Object.getOwnPropertyDescriptor(e,"prototype"),l=this.createNativeFunction(u,!!c);return o.pseudo.push(l),l}for(var h in n=Array.isArray(e)?this.createArray():this.createObjectProto(this.OBJECT_PROTO),o.pseudo.push(n),e)this.setProperty(n,h,this.nativeToPseudo(e[h],o));return n},Interpreter.prototype.pseudoToNative=function(e,t){if(null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e)return e;if(!(e instanceof Interpreter.Object))throw Error("Object is not pseudo");var r,n=t||{pseudo:[],native:[]},o=n.pseudo.indexOf(e);if(-1!==o)return n.native[o];if(n.pseudo.push(e),this.isa(e,this.REGEXP)){var i=RegExp(e.data.source,e.data.flags);return i.lastIndex=e.data.lastIndex,n.native.push(i),i}if(this.isa(e,this.DATE)){var a=new Date(e.data.valueOf());return n.native.push(a),a}if(this.isa(e,this.NUMBER)||this.isa(e,this.STRING)||this.isa(e,this.BOOLEAN)){var s=Object(e.data);return n.native.push(s),s}var p=this.isa(e,this.ARRAY)?[]:{};for(var u in n.native.push(p),e.properties)r=this.pseudoToNative(e.properties[u],n),Object.defineProperty(p,u,{value:r,writable:!0,enumerable:!0,configurable:!0});return p},Interpreter.prototype.getPrototype=function(e){switch(typeof e){case"number":return this.NUMBER.properties.prototype;case"boolean":return this.BOOLEAN.properties.prototype;case"string":return this.STRING.properties.prototype}return e?e.proto:null},Interpreter.prototype.getProperty=function(e,t){if(this.getterStep_)throw Error("Getter not supported in that context");if(t=String(t),null==e&&this.throwException(this.TYPE_ERROR,"Cannot read property '"+t+"' of "+e),"object"==typeof e&&!(e instanceof Interpreter.Object))throw TypeError("Expecting native value or pseudo object");if("length"===t){if(this.isa(e,this.STRING))return String(e).length}else if(64>t.charCodeAt(0)&&this.isa(e,this.STRING)){var r=Interpreter.legalArrayIndex(t);if(!isNaN(r)&&r<String(e).length)return String(e)[r]}do if(e.properties&&t in e.properties){var n=e.getter[t];if(n)return this.getterStep_=!0,n;return e.properties[t]}while(e=this.getPrototype(e))},Interpreter.prototype.hasProperty=function(e,t){if(!(e instanceof Interpreter.Object))throw TypeError("Primitive data type has no properties");if("length"===(t=String(t))&&this.isa(e,this.STRING))return!0;if(this.isa(e,this.STRING)){var r=Interpreter.legalArrayIndex(t);if(!isNaN(r)&&r<String(e).length)return!0}do if(e.properties&&t in e.properties)return!0;while(e=this.getPrototype(e));return!1},Interpreter.prototype.setProperty=function(e,t,r,n){if(this.setterStep_)throw Error("Setter not supported in that context");if(t=String(t),null==e&&this.throwException(this.TYPE_ERROR,"Cannot set property '"+t+"' of "+e),"object"==typeof e&&!(e instanceof Interpreter.Object))throw TypeError("Expecting native value or pseudo object");n&&("get"in n||"set"in n)&&("value"in n||"writable"in n)&&this.throwException(this.TYPE_ERROR,"Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");var o=!this.stateStack||this.getScope().strict;if(!(e instanceof Interpreter.Object)){o&&this.throwException(this.TYPE_ERROR,"Can't create property '"+t+"' on '"+e+"'");return}if(this.isa(e,this.STRING)){var i=Interpreter.legalArrayIndex(t);if("length"===t||!isNaN(i)&&i<String(e).length){o&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+t+"' of String '"+e.data+"'");return}}if("Array"===e.class){var a,s=e.properties.length;if("length"===t){if(n){if(!("value"in n))return;r=n.value}if(isNaN(r=Interpreter.legalArrayLength(r))&&this.throwException(this.RANGE_ERROR,"Invalid array length"),r<s)for(a in e.properties)!isNaN(a=Interpreter.legalArrayIndex(a))&&r<=a&&delete e.properties[a]}else isNaN(a=Interpreter.legalArrayIndex(t))||(e.properties.length=Math.max(s,a+1))}if(e.preventExtensions&&!(t in e.properties)){o&&this.throwException(this.TYPE_ERROR,"Can't add property '"+t+"', object is not extensible");return}if(n){var p={};"get"in n&&n.get&&(e.getter[t]=n.get,p.get=this.setProperty.placeholderGet_),"set"in n&&n.set&&(e.setter[t]=n.set,p.set=this.setProperty.placeholderSet_),"configurable"in n&&(p.configurable=n.configurable),"enumerable"in n&&(p.enumerable=n.enumerable),"writable"in n&&(p.writable=n.writable,delete e.getter[t],delete e.setter[t]),"value"in n?(p.value=n.value,delete e.getter[t],delete e.setter[t]):r!==Interpreter.VALUE_IN_DESCRIPTOR&&(p.value=r,delete e.getter[t],delete e.setter[t]);try{Object.defineProperty(e.properties,t,p)}catch(u){this.throwException(this.TYPE_ERROR,"Cannot redefine property: "+t)}"get"in n&&!n.get&&delete e.getter[t],"set"in n&&!n.set&&delete e.setter[t]}else{if(r===Interpreter.VALUE_IN_DESCRIPTOR)throw ReferenceError("Value not specified");for(var c=e;!(t in c.properties);)if(!(c=this.getPrototype(c))){c=e;break}if(c.setter&&c.setter[t])return this.setterStep_=!0,c.setter[t];if(c.getter&&c.getter[t])o&&this.throwException(this.TYPE_ERROR,"Cannot set property '"+t+"' of object '"+e+"' which only has a getter");else try{e.properties[t]=r}catch(l){o&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+t+"' of object '"+e+"'")}}},Interpreter.prototype.setProperty.placeholderGet_=function(){throw Error("Placeholder getter")},Interpreter.prototype.setProperty.placeholderSet_=function(){throw Error("Placeholder setter")},Interpreter.prototype.setNativeFunctionPrototype=function(e,t,r){this.setProperty(e.properties.prototype,t,this.createNativeFunction(r,!1),Interpreter.NONENUMERABLE_DESCRIPTOR)},Interpreter.prototype.setAsyncFunctionPrototype=function(e,t,r){this.setProperty(e.properties.prototype,t,this.createAsyncFunction(r),Interpreter.NONENUMERABLE_DESCRIPTOR)},Interpreter.prototype.getScope=function(){var e=this.stateStack[this.stateStack.length-1].scope;if(!e)throw Error("No scope found");return e},Interpreter.prototype.createScope=function(e,t){var r=!1;if(t&&t.strict)r=!0;else{var n=e.body&&e.body[0];n&&n.expression&&"Literal"===n.expression.type&&"use strict"===n.expression.value&&(r=!0)}var o=this.createObjectProto(null),i=new Interpreter.Scope(t,r,o);return t||this.initGlobal(i.object),this.populateScope_(e,i),i},Interpreter.prototype.createSpecialScope=function(e,t){if(!e)throw Error("parentScope required");var r=t||this.createObjectProto(null);return new Interpreter.Scope(e,e.strict,r)},Interpreter.prototype.getValueFromScope=function(e){for(var t=this.getScope();t&&t!==this.globalScope;){if(e in t.object.properties)return t.object.properties[e];t=t.parentScope}if(t===this.globalScope&&this.hasProperty(t.object,e))return this.getProperty(t.object,e);var r=this.stateStack[this.stateStack.length-1].node;("UnaryExpression"!==r.type||"typeof"!==r.operator)&&this.throwException(this.REFERENCE_ERROR,e+" is not defined")},Interpreter.prototype.setValueToScope=function(e,t){for(var r=this.getScope(),n=r.strict;r&&r!==this.globalScope;){if(e in r.object.properties){try{r.object.properties[e]=t}catch(o){n&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only variable '"+e+"'")}return}r=r.parentScope}if(r===this.globalScope&&(!n||this.hasProperty(r.object,e)))return this.setProperty(r.object,e,t);this.throwException(this.REFERENCE_ERROR,e+" is not defined")},Interpreter.prototype.populateScope_=function(e,t){var r;if(e.variableCache_)r=e.variableCache_;else{switch(r=Object.create(null),e.type){case"VariableDeclaration":for(var n=0;n<e.declarations.length;n++)r[e.declarations[n].id.name]=!0;break;case"FunctionDeclaration":r[e.id.name]=e;break;case"BlockStatement":case"CatchClause":case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"Program":case"SwitchCase":case"SwitchStatement":case"TryStatement":case"WithStatement":case"WhileStatement":var o=e.constructor;for(var i in e)if(e[i]!==e.loc){var a,s=e[i];if(s&&"object"==typeof s){if(Array.isArray(s)){for(var n=0;n<s.length;n++)if(s[n]&&s[n].constructor===o)for(var i in a=this.populateScope_(s[n],t))r[i]=a[i]}else if(s.constructor===o)for(var i in a=this.populateScope_(s,t))r[i]=a[i]}}}e.variableCache_=r}for(var i in r)!0===r[i]?this.setProperty(t.object,i,void 0,Interpreter.VARIABLE_DESCRIPTOR):this.setProperty(t.object,i,this.createFunction(r[i],t),Interpreter.VARIABLE_DESCRIPTOR);return r},Interpreter.prototype.calledWithNew=function(){return this.stateStack[this.stateStack.length-1].isConstructor},Interpreter.prototype.getValue=function(e){return e[0]===Interpreter.SCOPE_REFERENCE?this.getValueFromScope(e[1]):this.getProperty(e[0],e[1])},Interpreter.prototype.setValue=function(e,t){return e[0]===Interpreter.SCOPE_REFERENCE?this.setValueToScope(e[1],t):this.setProperty(e[0],e[1],t)},Interpreter.prototype.throwException=function(e,t){if(!this.globalScope)throw void 0===t?e:t;if(void 0!==t&&e instanceof Interpreter.Object){var r=this.createObject(e);this.populateError(r,t)}else var r=e;throw this.unwind(Interpreter.Completion.THROW,r,void 0),Interpreter.STEP_ERROR},Interpreter.prototype.unwind=function(e,t,r){if(e===Interpreter.Completion.NORMAL)throw TypeError("Should not unwind for NORMAL completions");loop:for(var n,o=this.stateStack;o.length>0;o.pop()){var i=o[o.length-1];switch(i.node.type){case"TryStatement":i.cv={type:e,value:t,label:r};return;case"CallExpression":case"NewExpression":if(e===Interpreter.Completion.RETURN){i.value=t;return}if(e===Interpreter.Completion.BREAK||e===Interpreter.Completion.CONTINUE)throw Error("Unsyntactic break/continue not rejected by Acorn");break;case"Program":if(e===Interpreter.Completion.RETURN)return;i.done=!0;break loop}if(e===Interpreter.Completion.BREAK){if(r?i.labels&&-1!==i.labels.indexOf(r):i.isLoop||i.isSwitch){o.pop();return}}else if(e===Interpreter.Completion.CONTINUE&&(r?i.labels&&-1!==i.labels.indexOf(r):i.isLoop))return}if(this.isa(t,this.ERROR)){var a={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError},s=String(this.getProperty(t,"name")),p=this.getProperty(t,"message").valueOf();(n=(a[s]||Error)(p)).stack=String(this.getProperty(t,"stack"))}else n=String(t);throw this.value=n,n},Interpreter.prototype.nodeSummary=function(e){switch(e.type){case"ArrayExpression":return"[...]";case"BinaryExpression":case"LogicalExpression":return this.nodeSummary(e.left)+" "+e.operator+" "+this.nodeSummary(e.right);case"CallExpression":return this.nodeSummary(e.callee)+"(...)";case"ConditionalExpression":return this.nodeSummary(e.test)+" ? "+this.nodeSummary(e.consequent)+" : "+this.nodeSummary(e.alternate);case"Identifier":return e.name;case"Literal":return e.raw;case"MemberExpression":var t=this.nodeSummary(e.object),r=this.nodeSummary(e.property);return e.computed?t+"["+r+"]":t+"."+r;case"NewExpression":return"new "+this.nodeSummary(e.callee)+"(...)";case"ObjectExpression":return"{...}";case"ThisExpression":return"this";case"UnaryExpression":return e.operator+" "+this.nodeSummary(e.argument);case"UpdateExpression":var n=this.nodeSummary(e.argument);return e.prefix?e.operator+n:n+e.operator}return"???"},Interpreter.prototype.createTask_=function(e,t){var r,n,o,i=this.stateStack[this.stateStack.length-1],a=Array.from(t),s=a.shift(),p=Math.max(Number(a.shift()||0),0),u=this.newNode();if(s instanceof Interpreter.Object&&"Function"===s.class)n=s,u.type="CallExpression",r=i.scope;else{try{o=this.parse_(String(s),"taskCode"+this.taskCodeNumber_++)}catch(c){this.throwException(this.SYNTAX_ERROR,"Invalid code: "+c.message)}u.type="EvalProgram_",u.body=o.body;var l=i.node.arguments[0],h=l?l.start:void 0,f=l?l.end:void 0;Interpreter.stripLocations_(u,h,f),r=this.globalScope,a.length=0}var d=new Interpreter.Task(n,a,r,u,e?p:-1);return this.scheduleTask_(d,p),d.pid},Interpreter.prototype.scheduleTask_=function(e,t){e.time=Date.now()+t,this.tasks.push(e),this.tasks.sort(function(e,t){return e.time-t.time})},Interpreter.prototype.deleteTask_=function(e){for(var t=0;t<this.tasks.length;t++)if(this.tasks[t].pid==e){this.tasks.splice(t,1);break}},Interpreter.prototype.nextTask_=function(){var e=this.tasks[0];if(!e||e.time>Date.now())return null;this.tasks.shift(),e.interval>=0&&this.scheduleTask_(e,e.interval);var t=new Interpreter.State(e.node,e.scope);return e.functionRef&&(t.doneCallee_=2,t.funcThis_=this.globalObject,t.func_=e.functionRef,t.doneArgs_=!0,t.arguments_=e.argsArray),t},Interpreter.prototype.createGetter_=function(e,t){if(!this.getterStep_)throw Error("Unexpected call to createGetter");this.getterStep_=!1;var r=Array.isArray(t)?t[0]:t,n=this.newNode();n.type="CallExpression";var o=new Interpreter.State(n,this.stateStack[this.stateStack.length-1].scope);return o.doneCallee_=2,o.funcThis_=r,o.func_=e,o.doneArgs_=!0,o.arguments_=[],o},Interpreter.prototype.createSetter_=function(e,t,r){if(!this.setterStep_)throw Error("Unexpected call to createSetter");this.setterStep_=!1;var n=Array.isArray(t)?t[0]:this.globalObject,o=this.newNode();o.type="CallExpression";var i=new Interpreter.State(o,this.stateStack[this.stateStack.length-1].scope);return i.doneCallee_=2,i.funcThis_=n,i.func_=e,i.doneArgs_=!0,i.arguments_=[r],i},Interpreter.prototype.boxThis_=function(e){if(null==e)return this.globalObject;if(!(e instanceof Interpreter.Object)){var t=this.createObjectProto(this.getPrototype(e));return t.data=e,t}return e},Interpreter.prototype.getGlobalScope=function(){return this.globalScope},Interpreter.prototype.setGlobalScope=function(e){this.globalScope=e,this.stateStack[0].scope=e},Interpreter.prototype.getStateStack=function(){return this.stateStack},Interpreter.prototype.setStateStack=function(e){this.stateStack=e},Interpreter.Value,Interpreter.State=function(e,t){this.node=e,this.scope=t},Interpreter.Scope=function(e,t,r){this.parentScope=e,this.strict=t,this.object=r},Interpreter.Object=function(e){this.getter=Object.create(null),this.setter=Object.create(null),this.properties=Object.create(null),this.proto=e},Interpreter.Object.prototype.proto=null,Interpreter.Object.prototype.class="Object",Interpreter.Object.prototype.data=null,Interpreter.Object.prototype.toString=function(){if(!Interpreter.currentInterpreter_)return"[object Interpreter.Object]";if(!(this instanceof Interpreter.Object))return String(this);if("Array"===this.class){var e=Interpreter.toStringCycles_;e.push(this);try{var t=[],r=this.properties.length,n=!1;r>1024&&(r=1e3,n=!0);for(var o=0;o<r;o++){var i=this.properties[o];t[o]=i instanceof Interpreter.Object&&-1!==e.indexOf(i)?"...":i}n&&t.push("...")}finally{e.pop()}return t.join(",")}if("Error"===this.class){var a,s,e=Interpreter.toStringCycles_;if(-1!==e.indexOf(this))return"[object Error]";var p=this;do if("name"in p.properties){a=p.properties.name;break}while(p=p.proto);p=this;do if("message"in p.properties){s=p.properties.message;break}while(p=p.proto);e.push(this);try{a=a&&String(a),s=s&&String(s)}finally{e.pop()}return s?a+": "+s:String(a)}return null!==this.data?String(this.data):"[object "+this.class+"]"},Interpreter.Object.prototype.valueOf=function(){return!Interpreter.currentInterpreter_||void 0===this.data||null===this.data||this.data instanceof RegExp?this:this.data instanceof Date?this.data.valueOf():this.data},Interpreter.Task=function(e,t,r,n,o){this.functionRef=e,this.argsArray=t,this.scope=r,this.node=n,this.interval=o,this.pid=++Interpreter.Task.pid,this.time=0},Interpreter.Task.pid=0,Interpreter.prototype.stepArrayExpression=function(e,t,r){var n=r.elements,o=t.n_||0;for(t.array_?(this.setProperty(t.array_,o,t.value),o++):(t.array_=this.createArray(),t.array_.properties.length=n.length);o<n.length;){if(n[o])return t.n_=o,new Interpreter.State(n[o],t.scope);o++}e.pop(),e[e.length-1].value=t.array_},Interpreter.prototype.stepAssignmentExpression=function(e,t,r){if(!t.doneLeft_){t.doneLeft_=!0;var n=new Interpreter.State(r.left,t.scope);return n.components=!0,n}if(!t.doneRight_){if(t.leftReference_||(t.leftReference_=t.value),t.doneGetter_&&(t.leftValue_=t.value),!t.doneGetter_&&"="!==r.operator){var o=this.getValue(t.leftReference_);if(t.leftValue_=o,this.getterStep_)return t.doneGetter_=!0,this.createGetter_(o,t.leftReference_)}return t.doneRight_=!0,"="===r.operator&&"Identifier"===r.left.type&&(t.destinationName=r.left.name),new Interpreter.State(r.right,t.scope)}if(t.doneSetter_){e.pop(),e[e.length-1].value=t.setterValue_;return}var i=t.leftValue_,a=t.value;switch(r.operator){case"=":i=a;break;case"+=":i+=a;break;case"-=":i-=a;break;case"*=":i*=a;break;case"/=":i/=a;break;case"%=":i%=a;break;case"<<=":i<<=a;break;case">>=":i>>=a;break;case">>>=":i>>>=a;break;case"&=":i&=a;break;case"^=":i^=a;break;case"|=":i|=a;break;default:throw SyntaxError("Unknown assignment expression: "+r.operator)}var s=this.setValue(t.leftReference_,i);if(s)return t.doneSetter_=!0,t.setterValue_=i,this.createSetter_(s,t.leftReference_,i);e.pop(),e[e.length-1].value=i},Interpreter.prototype.stepBinaryExpression=function(e,t,r){if(!t.doneLeft_)return t.doneLeft_=!0,new Interpreter.State(r.left,t.scope);if(!t.doneRight_)return t.doneRight_=!0,t.leftValue_=t.value,new Interpreter.State(r.right,t.scope);e.pop();var n,o=t.leftValue_,i=t.value;switch(r.operator){case"==":n=o==i;break;case"!=":n=o!=i;break;case"===":n=o===i;break;case"!==":n=o!==i;break;case">":n=o>i;break;case">=":n=o>=i;break;case"<":n=o<i;break;case"<=":n=o<=i;break;case"+":n=o+i;break;case"-":n=o-i;break;case"*":n=o*i;break;case"/":n=o/i;break;case"%":n=o%i;break;case"&":n=o&i;break;case"|":n=o|i;break;case"^":n=o^i;break;case"<<":n=o<<i;break;case">>":n=o>>i;break;case">>>":n=o>>>i;break;case"in":i instanceof Interpreter.Object||this.throwException(this.TYPE_ERROR,"'in' expects an object, not '"+i+"'"),n=this.hasProperty(i,o);break;case"instanceof":this.isa(i,this.FUNCTION)||this.throwException(this.TYPE_ERROR,"'instanceof' expects an object, not '"+i+"'"),n=o instanceof Interpreter.Object&&this.isa(o,i);break;default:throw SyntaxError("Unknown binary operator: "+r.operator)}e[e.length-1].value=n},Interpreter.prototype.stepBlockStatement=function(e,t,r){var n=t.n_||0,o=r.body[n];if(o)return t.n_=n+1,new Interpreter.State(o,t.scope);e.pop()},Interpreter.prototype.stepBreakStatement=function(e,t,r){var n=r.label&&r.label.name;this.unwind(Interpreter.Completion.BREAK,void 0,n)},Interpreter.prototype.evalCodeNumber_=0,Interpreter.prototype.stepCallExpression=function(e,t,r){if(!t.doneCallee_){t.doneCallee_=1;var n=new Interpreter.State(r.callee,t.scope);return n.components=!0,n}if(1===t.doneCallee_){t.doneCallee_=2;var o=t.value;if(Array.isArray(o)){if(t.func_=this.getValue(o),o[0]===Interpreter.SCOPE_REFERENCE?t.directEval_="eval"===o[1]:t.funcThis_=o[0],o=t.func_,this.getterStep_)return t.doneCallee_=1,this.createGetter_(o,t.value)}else t.func_=o;t.arguments_=[],t.n_=0}var o=t.func_;if(!t.doneArgs_){if(0!==t.n_&&t.arguments_.push(t.value),r.arguments[t.n_])return new Interpreter.State(r.arguments[t.n_++],t.scope);if("NewExpression"===r.type){if(o instanceof Interpreter.Object&&!o.illegalConstructor||this.throwException(this.TYPE_ERROR,this.nodeSummary(r.callee)+" is not a constructor"),o===this.ARRAY)t.funcThis_=this.createArray();else{var i=o.properties.prototype;("object"!=typeof i||null===i)&&(i=this.OBJECT_PROTO),t.funcThis_=this.createObjectProto(i)}t.isConstructor=!0}t.doneArgs_=!0}if(t.doneExec_)e.pop(),t.isConstructor&&"object"!=typeof t.value?e[e.length-1].value=t.funcThis_:e[e.length-1].value=t.value;else{t.doneExec_=!0,o instanceof Interpreter.Object||this.throwException(this.TYPE_ERROR,this.nodeSummary(r.callee)+" is not a function");var a=o.node;if(a){for(var s=this.createScope(a.body,o.parentScope),p=this.createArray(),u=0;u<t.arguments_.length;u++)this.setProperty(p,u,t.arguments_[u]);this.setProperty(s.object,"arguments",p);for(var u=0;u<a.params.length;u++){var c=a.params[u].name,l=t.arguments_.length>u?t.arguments_[u]:void 0;this.setProperty(s.object,c,l)}return s.strict||(t.funcThis_=this.boxThis_(t.funcThis_)),this.setProperty(s.object,"this",t.funcThis_,Interpreter.READONLY_DESCRIPTOR),t.value=void 0,new Interpreter.State(a.body,s)}if(o.eval){var h=t.arguments_[0];if("string"!=typeof h)t.value=h;else{try{var f=this.parse_(String(h),"eval"+this.evalCodeNumber_++)}catch(d){this.throwException(this.SYNTAX_ERROR,"Invalid code: "+d.message)}var E=this.newNode();E.type="EvalProgram_",E.body=f.body,Interpreter.stripLocations_(E,r.start,r.end);var s=t.directEval_?t.scope:this.globalScope;return s.strict?s=this.createScope(f,s):this.populateScope_(f,s),this.value=void 0,new Interpreter.State(E,s)}}else if(o.nativeFunc)t.scope.strict||(t.funcThis_=this.boxThis_(t.funcThis_)),t.value=o.nativeFunc.apply(t.funcThis_,t.arguments_);else if(o.asyncFunc){var $=this,y=function(e){t.value=e,$.paused_=!1},v=o.asyncFunc.length-1,b=t.arguments_.concat(Array(v)).slice(0,v);b.push(y),this.paused_=!0,t.scope.strict||(t.funcThis_=this.boxThis_(t.funcThis_)),o.asyncFunc.apply(t.funcThis_,b);return}else this.throwException(this.TYPE_ERROR,this.nodeSummary(r.callee)+" is not callable")}},Interpreter.prototype.stepConditionalExpression=function(e,t,r){var n=t.mode_||0;if(0===n)return t.mode_=1,new Interpreter.State(r.test,t.scope);if(1===n){t.mode_=2;var o=Boolean(t.value);if(o&&r.consequent)return new Interpreter.State(r.consequent,t.scope);if(!o&&r.alternate)return new Interpreter.State(r.alternate,t.scope);this.value=void 0}e.pop(),"ConditionalExpression"===r.type&&(e[e.length-1].value=t.value)},Interpreter.prototype.stepContinueStatement=function(e,t,r){var n=r.label&&r.label.name;this.unwind(Interpreter.Completion.CONTINUE,void 0,n)},Interpreter.prototype.stepDebuggerStatement=function(e,t,r){e.pop()},Interpreter.prototype.stepDoWhileStatement=function(e,t,r){if("DoWhileStatement"===r.type&&void 0===t.test_&&(t.value=!0,t.test_=!0),!t.test_)return t.test_=!0,new Interpreter.State(r.test,t.scope);if(t.value){if(r.body)return t.test_=!1,t.isLoop=!0,new Interpreter.State(r.body,t.scope)}else e.pop()},Interpreter.prototype.stepEmptyStatement=function(e,t,r){e.pop()},Interpreter.prototype.stepEvalProgram_=function(e,t,r){var n=t.n_||0,o=r.body[n];if(o)return t.n_=n+1,new Interpreter.State(o,t.scope);e.pop(),e[e.length-1].value=this.value},Interpreter.prototype.stepExpressionStatement=function(e,t,r){if(!t.done_)return this.value=void 0,t.done_=!0,new Interpreter.State(r.expression,t.scope);e.pop(),this.value=t.value},Interpreter.prototype.stepForInStatement=function(e,t,r){if(!t.doneInit_&&(t.doneInit_=!0,r.left.declarations&&r.left.declarations[0].init))return t.scope.strict&&this.throwException(this.SYNTAX_ERROR,"for-in loop variable declaration may not have an initializer"),new Interpreter.State(r.left,t.scope);if(!t.doneObject_)return t.doneObject_=!0,t.variable_||(t.variable_=t.value),new Interpreter.State(r.right,t.scope);if(t.isLoop||(t.isLoop=!0,t.object_=t.value,t.visited_=Object.create(null)),void 0===t.name_)gotPropName:for(;;){if(t.object_ instanceof Interpreter.Object)for(t.props_||(t.props_=Object.getOwnPropertyNames(t.object_.properties));;){var n=t.props_.shift();if(void 0===n)break;if(Object.prototype.hasOwnProperty.call(t.object_.properties,n)&&!t.visited_[n]){if(t.visited_[n]=!0,Object.prototype.propertyIsEnumerable.call(t.object_.properties,n)){t.name_=n;break gotPropName}}}else if(null!==t.object_&&void 0!==t.object_)for(t.props_||(t.props_=Object.getOwnPropertyNames(t.object_));;){var n=t.props_.shift();if(void 0===n)break;if(t.visited_[n]=!0,Object.prototype.propertyIsEnumerable.call(t.object_,n)){t.name_=n;break gotPropName}}if(t.object_=this.getPrototype(t.object_),t.props_=null,null===t.object_){e.pop();return}}if(!t.doneVariable_){t.doneVariable_=!0;var o=r.left;if("VariableDeclaration"===o.type)t.variable_=[Interpreter.SCOPE_REFERENCE,o.declarations[0].id.name];else{t.variable_=null;var i=new Interpreter.State(o,t.scope);return i.components=!0,i}}if(t.variable_||(t.variable_=t.value),!t.doneSetter_){t.doneSetter_=!0;var a=t.name_,s=this.setValue(t.variable_,a);if(s)return this.createSetter_(s,t.variable_,a)}if(t.name_=void 0,t.doneVariable_=!1,t.doneSetter_=!1,r.body)return new Interpreter.State(r.body,t.scope)},Interpreter.prototype.stepForStatement=function(e,t,r){switch(t.mode_){default:if(t.mode_=1,r.init)return new Interpreter.State(r.init,t.scope);break;case 1:if(t.mode_=2,r.test)return new Interpreter.State(r.test,t.scope);break;case 2:if(t.mode_=3,!r.test||t.value)return t.isLoop=!0,new Interpreter.State(r.body,t.scope);e.pop();break;case 3:if(t.mode_=1,r.update)return new Interpreter.State(r.update,t.scope)}},Interpreter.prototype.stepFunctionDeclaration=function(e,t,r){e.pop()},Interpreter.prototype.stepFunctionExpression=function(e,t,r){e.pop();var n=(t=e[e.length-1]).scope;r.id&&(n=this.createSpecialScope(n)),t.value=this.createFunction(r,n,t.destinationName),r.id&&this.setProperty(n.object,r.id.name,t.value,Interpreter.READONLY_DESCRIPTOR)},Interpreter.prototype.stepIdentifier=function(e,t,r){if(e.pop(),t.components){e[e.length-1].value=[Interpreter.SCOPE_REFERENCE,r.name];return}var n=this.getValueFromScope(r.name);if(this.getterStep_)return this.createGetter_(n,this.globalObject);e[e.length-1].value=n},Interpreter.prototype.stepIfStatement=Interpreter.prototype.stepConditionalExpression,Interpreter.prototype.stepLabeledStatement=function(e,t,r){e.pop();var n=t.labels||[];n.push(r.label.name);var o=new Interpreter.State(r.body,t.scope);return o.labels=n,o},Interpreter.prototype.stepLiteral=function(e,t,r){e.pop();var n=r.value;if(n instanceof RegExp){var o=this.createObjectProto(this.REGEXP_PROTO);this.populateRegExp(o,n),n=o}e[e.length-1].value=n},Interpreter.prototype.stepLogicalExpression=function(e,t,r){if("&&"!==r.operator&&"||"!==r.operator)throw SyntaxError("Unknown logical operator: "+r.operator);if(!t.doneLeft_)return t.doneLeft_=!0,new Interpreter.State(r.left,t.scope);if(t.doneRight_)e.pop(),e[e.length-1].value=t.value;else{if(("&&"!==r.operator||t.value)&&("||"!==r.operator||!t.value))return t.doneRight_=!0,new Interpreter.State(r.right,t.scope);e.pop(),e[e.length-1].value=t.value}},Interpreter.prototype.stepMemberExpression=function(e,t,r){if(!t.doneObject_)return t.doneObject_=!0,new Interpreter.State(r.object,t.scope);if(r.computed){if(!t.doneProperty_)return t.object_=t.value,t.doneProperty_=!0,new Interpreter.State(r.property,t.scope);n=t.value}else t.object_=t.value,n=r.property.name;if(e.pop(),t.components)e[e.length-1].value=[t.object_,n];else{var n,o=this.getProperty(t.object_,n);if(this.getterStep_)return this.createGetter_(o,t.object_);e[e.length-1].value=o}},Interpreter.prototype.stepNewExpression=Interpreter.prototype.stepCallExpression,Interpreter.prototype.stepObjectExpression=function(e,t,r){var n=t.n_||0,o=r.properties[n];if(t.object_){var i=t.destinationName;t.properties_[i]||(t.properties_[i]={}),t.properties_[i][o.kind]=t.value,t.n_=++n,o=r.properties[n]}else t.object_=this.createObjectProto(this.OBJECT_PROTO),t.properties_=Object.create(null);if(o){var a=o.key;if("Identifier"===a.type)var i=a.name;else if("Literal"===a.type)var i=a.value;else throw SyntaxError("Unknown object structure: "+a.type);return t.destinationName=i,new Interpreter.State(o.value,t.scope)}for(var a in t.properties_){var s=t.properties_[a];if("get"in s||"set"in s){var p={configurable:!0,enumerable:!0,get:s.get,set:s.set};this.setProperty(t.object_,a,Interpreter.VALUE_IN_DESCRIPTOR,p)}else this.setProperty(t.object_,a,s.init)}e.pop(),e[e.length-1].value=t.object_},Interpreter.prototype.stepProgram=function(e,t,r){var n=r.body.shift();if(n)return t.done=!1,new Interpreter.State(n,t.scope);t.done=!0},Interpreter.prototype.stepReturnStatement=function(e,t,r){if(r.argument&&!t.done_)return t.done_=!0,new Interpreter.State(r.argument,t.scope);this.unwind(Interpreter.Completion.RETURN,t.value,void 0)},Interpreter.prototype.stepSequenceExpression=function(e,t,r){var n=t.n_||0,o=r.expressions[n];if(o)return t.n_=n+1,new Interpreter.State(o,t.scope);e.pop(),e[e.length-1].value=t.value},Interpreter.prototype.stepSwitchStatement=function(e,t,r){if(!t.test_)return t.test_=1,new Interpreter.State(r.discriminant,t.scope);for(1===t.test_&&(t.test_=2,t.switchValue_=t.value,t.defaultCase_=-1);;){var n=t.index_||0,o=r.cases[n];if(!t.matched_&&o&&!o.test){t.defaultCase_=n,t.index_=n+1;continue}if(!o&&!t.matched_&&-1!==t.defaultCase_){t.matched_=!0,t.index_=t.defaultCase_;continue}if(o){if(!t.matched_&&!t.tested_&&o.test)return t.tested_=!0,new Interpreter.State(o.test,t.scope);if(t.matched_||t.value===t.switchValue_){t.matched_=!0;var i=t.n_||0;if(o.consequent[i])return t.isSwitch=!0,t.n_=i+1,new Interpreter.State(o.consequent[i],t.scope)}t.tested_=!1,t.n_=0,t.index_=n+1}else{e.pop();return}}},Interpreter.prototype.stepThisExpression=function(e,t,r){e.pop(),e[e.length-1].value=this.getValueFromScope("this")},Interpreter.prototype.stepThrowStatement=function(e,t,r){if(!t.done_)return t.done_=!0,new Interpreter.State(r.argument,t.scope);this.throwException(t.value)},Interpreter.prototype.stepTryStatement=function(e,t,r){if(!t.doneBlock_)return t.doneBlock_=!0,new Interpreter.State(r.block,t.scope);if(t.cv&&t.cv.type===Interpreter.Completion.THROW&&!t.doneHandler_&&r.handler){t.doneHandler_=!0;var n=this.createSpecialScope(t.scope);return this.setProperty(n.object,r.handler.param.name,t.cv.value),t.cv=void 0,new Interpreter.State(r.handler.body,n)}if(!t.doneFinalizer_&&r.finalizer)return t.doneFinalizer_=!0,new Interpreter.State(r.finalizer,t.scope);e.pop(),t.cv&&this.unwind(t.cv.type,t.cv.value,t.cv.label)},Interpreter.prototype.stepUnaryExpression=function(e,t,r){if(!t.done_){t.done_=!0;var n=new Interpreter.State(r.argument,t.scope);return n.components="delete"===r.operator,n}e.pop();var o=t.value;switch(r.operator){case"-":o=-o;break;case"+":o=+o;break;case"!":o=!o;break;case"~":o=~o;break;case"delete":var i=!0;if(Array.isArray(o)){var a=o[0];a===Interpreter.SCOPE_REFERENCE&&(a=t.scope);var s=String(o[1]);try{delete a.properties[s]}catch(p){t.scope.strict?this.throwException(this.TYPE_ERROR,"Cannot delete property '"+s+"' of '"+a+"'"):i=!1}}o=i;break;case"typeof":o=o&&"Function"===o.class?"function":typeof o;break;case"void":o=void 0;break;default:throw SyntaxError("Unknown unary operator: "+r.operator)}e[e.length-1].value=o},Interpreter.prototype.stepUpdateExpression=function(e,t,r){if(!t.doneLeft_){t.doneLeft_=!0;var n,o=new Interpreter.State(r.argument,t.scope);return o.components=!0,o}if(t.leftSide_||(t.leftSide_=t.value),t.doneGetter_&&(t.leftValue_=t.value),!t.doneGetter_){var i=this.getValue(t.leftSide_);if(t.leftValue_=i,this.getterStep_){t.doneGetter_=!0;var a=i;return this.createGetter_(a,t.leftSide_)}}if(t.doneSetter_){e.pop(),e[e.length-1].value=t.setterValue_;return}var i=Number(t.leftValue_);if("++"===r.operator)n=i+1;else if("--"===r.operator)n=i-1;else throw SyntaxError("Unknown update expression: "+r.operator);var s=r.prefix?n:i,p=this.setValue(t.leftSide_,n);if(p)return t.doneSetter_=!0,t.setterValue_=s,this.createSetter_(p,t.leftSide_,n);e.pop(),e[e.length-1].value=s},Interpreter.prototype.stepVariableDeclaration=function(e,t,r){var n=r.declarations,o=t.n_||0,i=n[o];for(t.init_&&i&&(this.setValueToScope(i.id.name,t.value),t.init_=!1,i=n[++o]);i;){if(i.init)return t.n_=o,t.init_=!0,t.destinationName=i.id.name,new Interpreter.State(i.init,t.scope);i=n[++o]}e.pop()},Interpreter.prototype.stepWithStatement=function(e,t,r){if(!t.doneObject_)return t.doneObject_=!0,new Interpreter.State(r.object,t.scope);e.pop();var n=this.createSpecialScope(t.scope,t.value);return new Interpreter.State(r.body,n)},Interpreter.prototype.stepWhileStatement=Interpreter.prototype.stepDoWhileStatement,Interpreter.nativeGlobal.Interpreter=Interpreter,Interpreter.prototype.step=Interpreter.prototype.step,Interpreter.prototype.run=Interpreter.prototype.run,Interpreter.prototype.getStatus=Interpreter.prototype.getStatus,Interpreter.prototype.appendCode=Interpreter.prototype.appendCode,Interpreter.prototype.createObject=Interpreter.prototype.createObject,Interpreter.prototype.createObjectProto=Interpreter.prototype.createObjectProto,Interpreter.prototype.createNativeFunction=Interpreter.prototype.createNativeFunction,Interpreter.prototype.createAsyncFunction=Interpreter.prototype.createAsyncFunction,Interpreter.prototype.getProperty=Interpreter.prototype.getProperty,Interpreter.prototype.setProperty=Interpreter.prototype.setProperty,Interpreter.prototype.nativeToPseudo=Interpreter.prototype.nativeToPseudo,Interpreter.prototype.pseudoToNative=Interpreter.prototype.pseudoToNative,Interpreter.prototype.getGlobalScope=Interpreter.prototype.getGlobalScope,Interpreter.prototype.setGlobalScope=Interpreter.prototype.setGlobalScope,Interpreter.prototype.getStateStack=Interpreter.prototype.getStateStack,Interpreter.prototype.setStateStack=Interpreter.prototype.setStateStack,Interpreter.Status=Interpreter.Status,Interpreter.VALUE_IN_DESCRIPTOR=Interpreter.VALUE_IN_DESCRIPTOR;